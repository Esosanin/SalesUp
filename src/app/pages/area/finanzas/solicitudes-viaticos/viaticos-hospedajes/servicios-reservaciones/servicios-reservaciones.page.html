<ion-header>
  <ion-toolbar>
    <ion-title>servicios-reservaciones</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [ngSwitch]="segment" class="ion-padding">

  <ion-fab vertical="bottom" horizontal="end" slot="fixed" >
    <ion-fab-button [disabled]="btn_changeSegment">
        <ion-icon name="menu"></ion-icon>
    </ion-fab-button>
    <ion-fab-list side="top">
        <ion-fab-button title="Datos del solicitante y lider" data-desc="'label'" (click)="onChangeSegment(1)" [disabled]="btn_changeSegment">
            <ion-icon name="person"></ion-icon>
        </ion-fab-button>
        <ion-fab-button title="Historial de progreso y comentarios"  (click)="onChangeSegment(2)" [disabled]="btn_changeSegment">
            <ion-icon name="newspaper"></ion-icon>
        </ion-fab-button>
        <ion-fab-button title="Acciones"  (click)="onChangeSegment(3)" [disabled]="btn_changeSegment" *ngIf="SR_divAcciones.vistaFab">
            <ion-icon name="key"></ion-icon>
        </ion-fab-button>
        <ion-fab-button title="Vuelos" (click)="onChangeSegment(4)"
                        [disabled]="btn_changeSegment" *ngIf="SR_solicitud.vuelos.v_cuenta >= 1">
            <ion-icon name="airplane"></ion-icon>
        </ion-fab-button>
        <ion-fab-button title="Hospedaje" (click)="onChangeSegment(5)"
                        [disabled]="btn_changeSegment" *ngIf="SR_solicitud.hospedaje.h_cuenta >= 1">
            <ion-icon name="business"></ion-icon>
        </ion-fab-button>
        <ion-fab-button title="Auto" (click)="onChangeSegment(6)"
                        [disabled]="btn_changeSegment" *ngIf="SR_solicitud.auto.a_cuenta >= 1">
            <ion-icon name="car"></ion-icon>
        </ion-fab-button>
    </ion-fab-list>
  </ion-fab>

  <div *ngSwitchCase="1"> <!-- Solicitante, Lider -->

    <div class="ion-text-center" style="padding-left: 16px;">
      <h1>#{{SR_solicitudID}} <small><span style="color: #eb445a;"><span *ngIf="SR_solicitud.solicitante.urgencia === 1">[Urgente]</span>{{SR_solicitud.solicitante.estado}}</span></small></h1>
      <!-- Estado de la solicitud nueva -->
      <span *ngIf="SR_solicitud.solicitante.estado_solicnv !== ''">{{SR_solicitud.solicitante.estado_solicnv}}</span>
      <!-- Estado de reagendar vuelo -->
      <span *ngIf="SR_solicitud.solicitante.estado_reagendarvuelo !== ''">{{SR_solicitud.solicitante.estado_reagendarvuelo}}</span>
      <!-- Estado de reagendar hospedaje -->
      <span *ngIf="SR_solicitud.solicitante.estado_reagendarhosp !== ''">{{SR_solicitud.solicitante.estado_reagendarhosp}}</span>
      <!-- Urgencia del creador -->
      <span *ngIf="SR_solicitud.solicitante.urgencia_creador !== ''">{{SR_solicitud.solicitante.urgencia_creador}}</span>

      <ion-button expand="block" fill="solid" shape="round" target='_blank'
                  href="http://intranet.ecn.com.mx:8060/intranet/{{SR_solicitud.solicitante.btn_imprimir}}"
                  *ngIf="SR_solicitud.solicitante.btn_imprimir !== 0">
        <ion-icon slot="start" name="print-outline"></ion-icon>
        Imprimir solicitud
      </ion-button>
    </div>

    <ion-item>
      <ion-label><b>Datos del solicitante</b></ion-label>
    </ion-item>

    <div class="class-content_spaces">

      <div  *ngIf=" ( SR_solicitud.solicitante.lider_id === colaborador_id && SR_solicitud.solicitante.edo !== 0 ) ||
                    ( SR_solicitud.solicitante.edo !== 0 && ( ( colaborador_id === SR_solicitud.solicitante.id_colaborador ) || ( colaborador_id === 1050 ) || ( colaborador_id === 1195 ) ) ) || true">
        <ion-button expand="block" fill="solid" shape="round"
                    (click)="confirmAlert('¿Desea cancelar la solicitud?', 'danger', {tipo: 1001});">
          <ion-icon slot="start" name="trash-outline"></ion-icon>
          Cancelar solicitud
        </ion-button>
        <ion-button expand="block" fill="solid" shape="round"
                    (click)="SR_createModal(1002,null)"
                    *ngIf="( SR_solicitud.solicitante.estado_solicnv === '0' && SR_solicitud.solicitante.edo >= 4 )">
          <ion-icon slot="start" name="pencil-outline"></ion-icon>
          Solicitar cambio de nombre
        </ion-button>
        <ion-item *ngIf="( SR_solicitud.solicitante.estado_solicnv !== '0' )">
          <ion-label><h3>(Esperando autorización de cambio de nombre)</h3></ion-label>
        </ion-item>
      </div>

      <ion-grid><!-- Solicitante -->
        <ion-row>
          <ion-col size="12" size-md="6">
            <ion-item>
              <ion-label position="stacked"><h3>Solicitante</h3></ion-label>
              <p>{{SR_solicitud.solicitante.nombre_colab_solicitante}}</p>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"><h3>Puesto desempeñado</h3></ion-label>
              <p>{{SR_solicitud.solicitante.c_puesto}}</p>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"><h3>Fecha de nacimiento</h3></ion-label>
              <p>{{SR_solicitud.solicitante.f_nacimiento_n}}</p>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"><h3>Correo electrónico</h3></ion-label>
              <p>{{SR_solicitud.solicitante.c_email}}</p>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"><h3>Teléfono celular</h3></ion-label>
              <p>{{SR_solicitud.solicitante.celular}}</p>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"><h3>Departamento</h3></ion-label>
              <p>{{SR_solicitud.solicitante.n_depto}}</p>
            </ion-item>
          </ion-col>
          <ion-col size="12" size-md="6">
            <ion-item>
              <ion-label position="stacked"><h3>Geográfica</h3></ion-label>
              <p>{{SR_solicitud.solicitante.n_nr}}</p>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"><h3>¿Va cargado a un proyecto o servicio?</h3></ion-label>
              <p>{{SR_solicitud.solicitante.proyecto_servicio}}</p>
            </ion-item>

            <div *ngIf="SR_solicitud.solicitante.proyecto_servicio.toLowerCase() === 'si' ||
                        ( SR_solicitud.solicitante.proyecto_servicio.toLowerCase() !== 'si' &&
                          SR_solicitud.solicitante.proyecto_servicio.toLowerCase() !== 'no' )">
              <ion-item>
                <ion-label position="stacked"><h3>Número de proyecto</h3></ion-label>
                <p>{{SR_solicitud.solicitante.PrjCode}}</p>
              </ion-item>
              <ion-item>
                <ion-label position="stacked"><h3>¿Cuenta con presupuesto?</h3></ion-label>
                <p>{{SR_solicitud.solicitante.prj_presupuesto}}</p>
              </ion-item>
            </div>

            <ion-item>
              <ion-label position="stacked"><h3>Motivo del viaje</h3></ion-label>
              <p>{{SR_solicitud.solicitante.motivo}}</p>
            </ion-item>
          </ion-col>
        </ion-row>

      </ion-grid>
    </div>

    <br>

    <ion-item>
      <ion-label><b>Datos del líder</b></ion-label>
    </ion-item>

    <div class="class-content_spaces"> <!-- Lider -->
      <ion-grid>
        <ion-row>
          <ion-col size="12" size-md="6">
            <ion-item>
              <ion-label position="stacked"><h3>Líder inmediato</h3></ion-label>
              <p>{{SR_solicitud.solicitante.autoriza}}</p>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"><h3>Correo electrónico</h3></ion-label>
              <p>{{SR_solicitud.solicitante.lider_email}}</p>
            </ion-item>
          </ion-col>
          <ion-col size="12" sieze-md="6">
            <ion-item>
              <ion-label position="stacked"><h3>Teléfono celular</h3></ion-label>
              <p>{{SR_solicitud.solicitante.lider_celular}}</p>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

  </div>

  <div *ngSwitchCase="2"> <!-- Historial -->
    <ion-item>
      <ion-label><b>Historial de progreso y comentarios</b></ion-label>
    </ion-item>

    <div class="class-content_spaces"> <!-- Historial -->

      <div class="ion-padding">
        <ion-item>
          <ion-label position="stacked">Filtro</ion-label>
          <ion-select id="v_historialProgresoComentarios" name="v_historialProgresoComentarios" interface="popover"
                      [(ngModel)]="SR_historialOption" #v_historialProgresoComentarios="ngModel">
            <ion-select-option [value]="1">Ver comentarios y notificaciones</ion-select-option>
            <ion-select-option [value]="2">Ver solo comentarios</ion-select-option>
            <ion-select-option [value]="3">Ver solo notificaciones</ion-select-option>
          </ion-select>
        </ion-item>
      </div>

      <div class="class-content_spaces" style="background: #f5f5f5;">
        <div title="notificación" class="ion-text-center" style="padding: 5px 0px;">
          <p>Borrador de la solicitud creado <small>{{SR_solicitud.solicitante.fecha}}</small></p>
        </div>

        <div *ngFor="let data of SR_historial; let i = index;">
          <div [ngSwitch]="data.tipo">
            <div class="class-div_line" *ngSwitchCase="0"> <!-- Solicitud cancelada -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Solicitud cancelada por {{data.nombre_creador}} <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}}</b> <small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="1"> <!-- Comentario del plan de trabajo, se termina de crear la solicitud -->
              <div title="notificación pt1" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Solicitud completada <small>{{data.fecha}}</small></p>
              </div>
              <div title="notificación pt2" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p *ngIf="data.estado === 15">Cotizando <small>{{data.fecha}}</small></p>
                <p *ngIf="data.estado !== 15">Solicitud enviada al líder <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                Plan de trabajo
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="2"> <!-- Solicitud tardía justificación -->
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                Solicitud tardía
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="3"> <!-- Cuando el lider aprueba -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Aprobado por el líder <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="4"> <!-- Cuando el lider pide modificaciones -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>El líder solicitó modificaciones <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="5"> <!-- Nueva versión de servicio -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Se creó una nueva versión de la solicitud de d{{data.tipo}} <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="6"> <!-- Comentario al reenviar servicio -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>El colaborador realiza modificaciones <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="7"> <!-- Contraloría solicita modificaciones -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Contraloría solicitó modificaciones <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="8"> <!-- Contraloría la aprueba -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Aprobada por contraloría <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="9"> <!-- Cotizaciones enviadas al líder -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Cotizaciones enviadas al líder <small>{{data.fecha}}</small></p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="10"> <!-- El líder solicitó más cotizaciones de vuelos -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>El líder solicitó más cotizaciones de vuelos <small>{{data.fecha}}</small></p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="11"> <!--  -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>{{data.comentario}} <small>{{data.fecha}}</small></p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="12"> <!--  -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Cotizaciones enviadas al asesor para su compra <small>{{data.fecha}}</small></p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="13"> <!-- Recotizando -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Recotizando <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                  <small>Solicitud de d{{data.tipo}}</small>
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                  <small>Solicitud de d{{data.tipo}}</small>
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="14"> <!-- Colaborador ya no quiso el servicio -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>El colaborador canceló el servicio de d{{data.tipo}} <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="15"> <!-- Colab solicita cambio de nombre -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Se solicitó cambio de nombre <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="16"> <!-- Aprobaciones o rechazos del cambio de nombre -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>{{data.comentario}} <small>{{data.fecha}}</small></p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="17"> <!-- Cuando dolab solicita reagendar el servivio -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Se solicitó reagendar el d{{data.tipo}} <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="18"> <!-- Cuando lider reagenda por su cuenta la solicitud de hospedaje -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>El líder reagendó la solicitud de hospedaje <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="19"> <!-- Aprobada por Arturo Freydig -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Aprobada por Arturo Freydig <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="20"> <!-- Rechaza arturo freydig -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>Arturo Freydig solicitó modificaciones <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="21"> <!-- El lider apruebareagendar solicitud de vuelo u hospedaje -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>{{data.comentario}} <small>{{data.fecha}}</small></p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="22"> <!-- El lider rechaza reagendar solicitud de vuelo u hospedaje -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>{{data.comentario}} <small>{{data.fecha}}</small></p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchCase="23"> <!-- Cuando lider reagenda por su cuenta la solicitud de vuelo -->
              <div title="notificación" class="ion-text-center" style="padding: 5px 0px;" *ngIf="SR_historialOption === 1 || SR_historialOption === 3">
                <p>El líder reagendó la solicitud de vuelo <small>{{data.fecha}}</small></p>
              </div>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
            <div class="class-div_line" *ngSwitchDefault>
              <div title="comentario" class="class-card_white" [ngClass]="{'ion-text-left': data.align === false, 'ion-text-right': data.align === true}" *ngIf="SR_historialOption === 1 || SR_historialOption === 2">
                <p *ngIf="data.align === true">
                  {{data.fecha}} <small><b>{{data.nombre_creador}}</b></small><br>
                  {{data.comentario}}
                </p>
                <p *ngIf="data.align === false">
                  <b>{{data.nombre_creador}} </b><small>{{data.fecha}}</small><br>
                  {{data.comentario}}
                </p>
              </div>
            </div>
          </div>

        </div>
        <div class="class-div_line" *ngIf="SR_historial.length === 0">
          <div class="class-card_white ion-text-center">
            <p>- No hay historial -</p>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div *ngIf="SR_divAcciones.vistaFab"> <!-- Acciones -->
    <div *ngSwitchCase="3">
      <ion-item>
        <ion-label><b>Acciones</b></ion-label>
      </ion-item>

      <div class="class-content_spaces" *ngIf="SR_divAcciones.vistaDiv">
        <!-- Borrador -->
        <div *ngIf="SR_divAcciones.opt1">
          <ion-button (click)="SR_createModal(202,null)" expand="block" fill="solid" shape="round"
                      >
            <ion-icon slot="start" name="airplane-outline"></ion-icon>
            <ion-icon slot="start" name="home-outline"></ion-icon>
            <ion-icon slot="start" name="car-outline"></ion-icon>
            <ion-label><h3>Agregar un servicio</h3></ion-label>
          </ion-button>
          <ion-button (click)="SR_createModal(201,null)" expand="block" fill="solid" shape="round">
            <ion-icon slot="start" name="paper-plane-outline"></ion-icon>
            <ion-label><h3>Terminar</h3></ion-label>
          </ion-button>
        </div>

        <!-- Enviado al líder -->
        <div *ngIf="SR_divAcciones.opt2">
          <ion-button (click)="SR_createModal(203,null)" expand="block" fill="solid" shape="round">
            <ion-icon slot="start" name="clipboard-outline"></ion-icon>
            <ion-label><h3>Atender solicitud</h3></ion-label>
          </ion-button>
        </div>

        <!-- Devuelta al colaborador para hacer cambios -->
        <div *ngIf="SR_divAcciones.opt3">
          <ion-button (click)="SR_createModal(202,null)" expand="block" fill="solid" shape="round"
                      *ngIf="SR_solicitud.totalsol_hechas !== 3">
            <ion-icon slot="start" name="airplane-outline"></ion-icon>
            <ion-icon slot="start" name="home-outline"></ion-icon>
            <ion-icon slot="start" name="car-outline"></ion-icon>
            <ion-label><h3>Agregar un servicio</h3></ion-label>
          </ion-button>
          <ion-button (click)="SR_createModal(204,null)" expand="block" fill="solid" shape="round">
            <ion-icon slot="start" name="paper-plane-outline"></ion-icon>
            <ion-label><h3>Terminar</h3></ion-label>
          </ion-button>
        </div>

        <!-- Para que lo apruebe contraloría edo: 5 -->
        <!-- Para que lo apruebe el ingeniero edo: 18 -->
        <div *ngIf="SR_divAcciones.opt4">
          <ion-button (click)="SR_createModal(205,null)" expand="block" fill="solid" shape="round">
            <ion-icon slot="start" name="checkmark-outline"></ion-icon>
            <ion-label><h3>Atender</h3></ion-label>
          </ion-button>
        </div>

        <!-- Cuando el líder ya seleccionó cotizaciones aparecerá un botón para maura
              para avisarle al colaborador y líder acerca de la información disponible -->
        <div *ngIf="SR_divAcciones.opt5">
          <ion-button (click)="SR_enviarCompra()" expand="block" fill="solid" shape="round" [disabled]="btn_cancelAction">
            <ion-icon slot="start" name="paper-plane-outline"></ion-icon>
            <ion-icon slot="start" name="bag-handle-outline"></ion-icon>
            <ion-icon slot="start" name="person-outline"></ion-icon>
            <ion-label><h3>Envíar información de compra al líder y al colaborador</h3></ion-label>
          </ion-button>
        </div>

        <!-- Enviar cotización al líder -->
        <div *ngIf="SR_divAcciones.opt6">
          <ion-button (click)="SR_enviarCotizLider()" expand="block" fill="solid" shape="round" [disabled]="btn_cancelAction">
            <ion-icon slot="start" name="paper-plane-outline"></ion-icon>
            <ion-icon slot="start" name="person-outline"></ion-icon>
            <ion-label><h3>Dejar de cotizar y envíar al líder</h3></ion-label>
          </ion-button>
        </div>
      </div>

      <div class="class-content_spaces" *ngIf="SR_divAcciones.solicnv || SR_divAcciones.vueloAcciones || SR_divAcciones.hospAcciones">

        <div *ngIf="SR_divAcciones.solicnv"><!---->
        <!--<div><!---->
          <ion-button (click)="SR_createModal(206,null)" *ngIf="this.SR_solicitud.solicitante.lider_id === this.colaborador_id"
                      expand="block" fill="solid" shape="round">
            <ion-icon slot="start" name="checkmark-outline"></ion-icon>
            Autorizar cambio de nombre de la solicitud
          </ion-button>
          <ion-button (click)="SR_createModal(207,null)" *ngIf="this.SR_solicitud.solicitante.contralor_id === this.colaborador_id"
                      expand="block" fill="solid" shape="round">
            <ion-icon slot="start" name="checkmark-outline"></ion-icon>
            Autorizar cambio de nombre de la solicitud
          </ion-button>
        </div>
        <div *ngIf="SR_divAcciones.vueloAcciones">
          <ion-button (click)="SR_createModal(208,null)"
                      expand="block" fill="solid" shape="round">
            <ion-icon slot="start" name="checkmark-outline"></ion-icon>
            Autorizar reagendar vuelo
          </ion-button>
        </div>
        <div *ngIf="SR_divAcciones.hospAcciones">
          <ion-button (click)="SR_createModal(209,null)"
                      expand="block" fill="solid" shape="round">
            <ion-icon slot="start" name="checkmark-outline"></ion-icon>
            Autorizar reagendar hospedaje
          </ion-button>
        </div>

      </div>

    </div>
  </div>

  <div *ngSwitchCase="4"> <!-- Vuelo -->

    <div><!-- ACCIONES -->
      <div *ngIf="SR_divAcciones.vuelo.opt1"><!-- -->
      <!--<div><!-- -->
        <ion-button (click)="SR_ACCIONES_createModal_editarServicio(1)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="pencil-outline"></ion-icon>
          Editar
        </ion-button>
        <ion-button (click)="SR_ACCIONES_eliminarDetalle(1)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="trash-outline"></ion-icon>
          Eliminar servicio
        </ion-button>
      </div>

      <div *ngIf="SR_divAcciones.vuelo.opt2"><!-- -->
      <!--<div><!-- -->
        <ion-button (click)="SR_ACCIONES_masCotizVuelos()" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="build-outline"></ion-icon>
          Pedir más cotizaciones
        </ion-button>
      </div>

      <div *ngIf="SR_divAcciones.vuelo.opt3">
        <ion-button (click)="SR_ACCIONES_createModal_recotizar(1)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="build-outline"></ion-icon>
          Recotizar
        </ion-button>
      </div>

      <div *ngIf="SR_divAcciones.vuelo.opt4"><!-- -->
      <!--<div><!-- -->
        <ion-button (click)="SR_ACCIONES_createModal_cancelarServicio(1)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="trash-outline"></ion-icon>
          Ya no quiero este servicio
        </ion-button>

        <ion-button (click)="SR_ACCIONES_createModal_reagendar(1)" expand="block" fill="solid" shape="round" *ngIf="SR_solicitud.solicitante.reagenda_vuelo === 0">
          <ion-icon slot="start" name="build-outline"></ion-icon>
          Reagendar
        </ion-button>
        <ion-label class="ion-text-center" *ngIf="SR_solicitud.solicitante.reagenda_vuelo !== 0">
          <p>(Esperando autorización para reagendar)</p>
        </ion-label>
      </div>
    </div>

    <br>

    <ion-item>
      <ion-label class="ion-text-center">
        <b>Vuelos</b>
        <p style="color: #eb445a;" *ngIf="SR_solicitud.vuelos.estado_v === 14">
          [Cancelado por el solicitante]
        </p>
      </ion-label>
      <ion-label class="ion-text-center"
                  *ngIf="SR_solicitud.solicitante.div_cambionombre !== ''">
        <p>{{SR_solicitud.solicitante.div_cambionombre}}</p>
      </ion-label>
    </ion-item>

    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="4">
          <ion-item>
            <ion-label position="stacked"><b><h3>Tipo de vuelo</h3></b></ion-label>
            <p>{{SR_solicitud.vuelos.v_tipo}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><b><h3>Origen</h3></b></ion-label>
            <p>{{SR_solicitud.vuelos.origen}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><b><h3>Destino</h3></b></ion-label>
            <p>{{SR_solicitud.vuelos.destino}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><b><h3>¿Es internacional?</h3></b></ion-label>
            <p>{{SR_solicitud.vuelos.internacional}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><b><h3>Salida</h3></b></ion-label>
            <p>{{SR_solicitud.vuelos.inicio_entrada_n}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><b><h3>Hora de salida (preferente)</h3></b></ion-label>
            <p>{{SR_solicitud.vuelos.v_inicio}}</p>
          </ion-item>
          <ion-item *ngIf="this.SR_solicitud.vuelos.v_tipo.toLocaleLowerCase() !== 'sencillo'">
            <ion-label position="stacked"><b><h3>Regreso</h3></b></ion-label>
            <p>{{SR_solicitud.vuelos.fin_salida_n}}</p>
          </ion-item>
          <ion-item *ngIf="this.SR_solicitud.vuelos.v_tipo.toLocaleLowerCase() !== 'sencillo'">
            <ion-label position="stacked"><b><h3>Hora de regreso (preferente)</h3></b></ion-label>
            <p>{{SR_solicitud.vuelos.v_fin}}</p>
          </ion-item>
        </ion-col>
        <ion-col size="12" size-md="8">
          <div class="class-div_box class-cursor_notactive" *ngIf="SR_solicitud.errores.v_errores > 0 || SR_solicitud.vuelos.div_v_cotiz === 0 || SR_solicitud.errores.error_div_compras === 0">
            <ion-segment [(ngModel)]="segment_errores">
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize"
                                  value="1" [ngStyle]="{'display': SR_solicitud.errores.v_errores > 0 ? 'block' : 'none'}"
                                  style="max-width: none;">
                <ion-icon name="close"></ion-icon>
                <ion-label>Errores</ion-label>
              </ion-segment-button>
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize"
                                  value="2" [ngStyle]="{'display': SR_solicitud.vuelos.div_v_cotiz === 0 ? 'block' : 'none'}"
                                  style="max-width: none"
                                  (click)="this.SR_recargarEstructuras(1, {});">
                <ion-icon name="business"></ion-icon>
                <ion-label>Cotizaciones Ida/Vuelta</ion-label>
              </ion-segment-button>
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize"
                                  value="3" [ngStyle]="{'display': SR_solicitud.errores.error_div_compras === 0 ? 'block' : 'none'}"
                                  (click)="SR_verCompras(1);" style="max-width: none">
                <ion-icon name="cart"></ion-icon>
                <ion-label>Compra</ion-label>
              </ion-segment-button>
            </ion-segment>

            <div>
              <!-- Errores -->
              <div *ngIf="segment_errores === 1" [ngStyle]="{'display': SR_solicitud.errores.v_errores > 0 ? 'block' : 'none'}" style="max-width: none;">
                <div class="class-cursor_notactive class-div_box-border class-div_historial">
                    <div *ngFor="let data of SR_solicitud.errores.v_errores_txt; let i = index;">
                      <p>
                        <span [ngStyle]="{'color': data.error === 1 ? 'red' : ''}">{{data.data}}</span>
                        <span>{{data.extra}}</span>
                      </p>
                    </div>
                    <div *ngIf="SR_solicitud.errores.v_errores_txt ? SR_solicitud.errores.v_errores_txt.length === 0 : true">
                      <p>- No hay errores -</p>
                    </div>
                </div>
              </div>

              <!-- Cotizaciones -->
              <div [ngStyle]="{'display': SR_solicitud.vuelos.div_v_cotiz === 0 ? 'block' : 'none'}">
                <div *ngIf="segment_errores === 2" style="max-width: none;">
                  <div class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-radio-group [(ngModel)]="SR_radio.vuelo">
                      <div *ngFor="let data of SR_solicitud.vuelos_cotizacion; let i = index;">
                        <ion-grid class="class-div_box">
                          <ion-row class="ion-no-margin">
                            <ion-col size="12" class="ion-no-margin ion-text-start">
                              <p class="ion-no-margin">
                                <span class="class-p_primary" *ngIf="data.ida_venida === 1"><b>Ida</b></span>
                                <span class="class-p_primary" *ngIf="data.ida_venida === 2"><b>Vuelta</b></span>
                              </p>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col size="auto" class="ion-align-self-center ion-text-center">
                              <div *ngIf="(( colaborador_id === SR_solicitud.solicitante.lider_id ) && ( SR_solicitud.solicitante.edo === 8 )) ||
                                          (( SR_solicitud.solicitante.edo === 15 ) && ( colaborador_id === 1050 )) ||
                                          (( SR_solicitud.solicitante.urgencia_creador !== '' ) && ( SR_solicitud.solicitante.edo === 8 ) && ( colaborador_id === 1050 ))"> <!-- -->
                              <!--<div> <!-- -->
                                <ion-radio [value]="data.id"></ion-radio>
                              </div>
                            </ion-col>
                            <ion-col (click)="SR_createModalDetalles(1, i)">
                              <ion-row>
                                <ion-col size="12" size-sm="6">
                                  <p class="ion-no-margin">
                                    <span class="class-p_primary"><b>Origen:</b></span> <br>
                                    <span>{{data.origen}} {{data.hora_salida}}</span>
                                  </p>
                                </ion-col>
                                <ion-col size="12" size-sm="6">
                                  <p class="ion-no-margin">
                                    <span class="class-p_primary"><b>Destino:</b></span> <br>
                                    <span>{{data.destino}} {{data.hora_llegada}}</span>
                                  </p>
                                </ion-col>
                              </ion-row>
                              <ion-row>
                                <ion-col size="12">
                                  <p class="ion-no-margin">
                                    <span class="class-p_primary"><b>Precio:</b></span> <br>
                                    <span>{{data.precio_n}} {{data.moneda}}</span>
                                  </p>
                                </ion-col>
                              </ion-row>
                            </ion-col>
                            <ion-col size="auto" class="ion-align-self-center ion-text-center">
                              <ion-button *ngIf="data.escalas > 0" fill="clear" shape="round" (click)="SR_createModal(100, {index: i})">
                                <ion-icon slot="icon-only" name="airplane"></ion-icon>
                              </ion-button>
                              <ion-button fill="clear" shape="round" (click)="btn_cancelAction = true; confirmAlert('¿Seguro que quiere eliminar la cotización?', 'danger', {tipo: 9, i: i});"
                                          [ngStyle]="{'display': (SR_solicitud.vuelos.v_inputs_cotiz === 1 || SR_solicitud.vuelos.display_btn_cancel_v === 1) ? 'none' : ''}"
                                          *ngIf="(colaborador_id === 1050) && ( (SR_solicitud.solicitante.edo === 4) || (SR_solicitud.solicitante.edo === 6) || (SR_solicitud.solicitante.edo === 16) )" [disabled]="btn_cancelAction">
                                <ion-icon slot="icon-only" name="trash"></ion-icon>
                              </ion-button>
                            </ion-col>
                          </ion-row>
                        </ion-grid>
                      </div>
                      <div *ngIf="SR_solicitud.vuelos_cotizacion ? SR_solicitud.vuelos_cotizacion.length === 0 : true">
                        <ion-grid>
                          <ion-row>
                            <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                          </ion-row>
                        </ion-grid>
                      </div>
                    </ion-radio-group>
                  </div>
                </div>

                <div *ngIf="segment_errores === 2" style="max-width: none;">
                  <div  [ngStyle]="{'display': (SR_solicitud.vuelos.v_inputs_cotiz === 1 || SR_solicitud.vuelos.display_btn_cancel_v === 1) ? 'none' : ''}"
                        *ngIf="( colaborador_id === SR_solicitud.solicitante.lider_id && SR_solicitud.solicitante.edo === 8 ) ||
                                ( SR_solicitud.solicitante.edo === 15 && colaborador_id === 1050 ) ||
                                ( SR_solicitud.solicitante.urgencia_creador !== '' && SR_solicitud.solicitante.edo === 8 && colaborador_id === 1050 )"> <!---->
                  <!--<div><!-- -->
                    <ion-button expand="block" fill="solid" shape="round"
                                (click)="SR_selectCotizacion(1);" [disabled]=" SR_radio.vuelo === 0 || btn_cancelAction">
                      <ion-icon slot="start" name="chekmark-outline"></ion-icon>
                      Seleccionar cotización
                    </ion-button>
                  </div>
                  <div *ngIf="(colaborador_id === 1050) && ((SR_solicitud.solicitante.edo === 4) || (SR_solicitud.solicitante.edo === 6) || (SR_solicitud.solicitante.edo === 15) || (SR_solicitud.solicitante.edo === 16))"> <!---->
                  <!--<div><!-- -->
                    <hr>
                    <br>

                    <form #cotizacion_vuelosForm="ngForm">
                      <ion-item class="ion-text-center">
                        <ion-label><b>Agregar cotización</b></ion-label>
                      </ion-item>
                      <div>
                        <div class="class-margin class-padding">
                          <ion-label><h3><b>Salida</b></h3></ion-label>
                        </div>
                        <ion-item>
                          <ion-label position="stacked">Ciudad</ion-label>
                          <ion-select id="vuelo_cotCiudSalida" name="vuelo_cotCiudSalida" interface="popover"  placeholder="Seleccionar..."
                                      [(ngModel)]="SR_cotVuelos.v_ciudadSalida" #vuelo_cotCiudSalida="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Fecha</ion-label>
                          <ion-input id="vuelo_cotFSalida" name="vuelo_cotFSalida" type="date" [max]="SR_cotVuelos.v_fLlegada"
                                      [(ngModel)]="SR_cotVuelos.v_fSalida" #vuelo_cotFSalida="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Hora</ion-label>
                          <ion-input id="vuelo_cotHSalida" name="vuelo_cotHSalida" type="text" placeholder="06:00" pattern="([01]?[0-9]|2[0-3]):[0-5]{1}[0-9]{1}"
                                      [(ngModel)]="SR_cotVuelos.v_hSalida" #vuelo_cotHSalida="ngModel" required></ion-input>
                        </ion-item>
                      </div>

                      <br>
                      <hr>
                      <br>

                      <div>
                        <div class="class-margin class-padding">
                          <ion-label><h3><b>Llegada</b></h3></ion-label>
                        </div>
                        <ion-item>
                          <ion-label position="stacked">Ciudad</ion-label>
                          <ion-select id="vuelo_cotCiudLlegada" name="vuelo_cotCiudLlegada" interface="popover"  placeholder="Selecciona"
                                      [(ngModel)]="SR_cotVuelos.v_ciudadLlegada" #vuelo_cotCiudLlegada="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Fecha</ion-label>
                          <ion-input id="vuelo_cotFLlegada" name="vuelo_cotFLlegada" type="date" [min]="SR_cotVuelos.v_fSalida"
                                      [(ngModel)]="SR_cotVuelos.v_fLlegada" #vuelo_cotFLlegada="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Hora</ion-label>
                          <ion-input id="vuelo_cotHLlegada" name="vuelo_cotHLlegada" type="text" placeholder="06:00" pattern="([01]?[0-9]|2[0-3]):[0-5]{1}[0-9]{1}"
                                      [(ngModel)]="SR_cotVuelos.v_hLlegada" #vuelo_cotHLlegada="ngModel" required></ion-input>
                        </ion-item>
                      </div>

                      <br>
                      <hr>
                      <br>

                      <ion-item>
                        <ion-label position="stacked">¿Es ida o vuelta?</ion-label>
                        <ion-select id="vuelo_cotVenida" name="vuelo_cotVenida" interface="popover"
                                    [(ngModel)]="SR_cotVuelos.v_venida" #vuelo_cotVenida="ngModel" required>
                          <ion-select-option [value]="1">Ida</ion-select-option>
                          <ion-select-option [value]="2">Vuelta</ion-select-option>
                        </ion-select>
                      </ion-item>
                      <div>
                        <ion-item>
                          <ion-label position="stacked">Precio</ion-label>
                          <ion-input id="vuelo_cotPrecio" name="vuelo_cotPrecio" type="number"
                                      [(ngModel)]="SR_cotVuelos.v_precio" #vuelo_cotPrecio="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="vuelo_cotMoneda" name="vuelo_cotMoneda" interface="popover"
                                      [(ngModel)]="SR_cotVuelos.v_moneda" #vuelo_cotMoneda="ngModel" required>
                            <ion-select-option value="" disabled>Seleccionar moneda</ion-select-option>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Aerolinea</ion-label>
                          <ion-select id="vuelo_cotAerolinea" name="vuelo_cotAerolinea" interface="popover" placeholder="Selecciona"
                                      [(ngModel)]="SR_cotVuelos.v_aerolinea" #vuelo_cotAerolinea="ngModel" required>
                            <ion-select-option value="5">AEROMAR</ion-select-option>
                            <ion-select-option value="3">AEROMÉXICO</ion-select-option>
                            <ion-select-option value="6">AIRFRANCE</ion-select-option>
                            <ion-select-option value="7">AMERICAN AIRLINES</ion-select-option>
                            <ion-select-option value="8">ASSIST CARD / TRAVELO</ion-select-option>
                            <ion-select-option value="9">AVIANCA</ion-select-option>
                            <ion-select-option value="10">BRITISH AIRWAYS</ion-select-option>
                            <ion-select-option value="11">CALAFIA AIRLINES</ion-select-option>
                            <ion-select-option value="4">INTERJET</ion-select-option>
                            <ion-select-option value="12">JETSMART</ion-select-option>
                            <ion-select-option value="13">LATAM AIRLINES</ion-select-option>
                            <ion-select-option value="14">PERUVIAN AIRLINES</ion-select-option>
                            <ion-select-option value="15">PRIORITY PASS</ion-select-option>
                            <ion-select-option value="16">SKY AIRLINES</ion-select-option>
                            <ion-select-option value="17">SKY AIRLINES/JETSMART</ion-select-option>
                            <ion-select-option value="18">SOUTHWEST</ion-select-option>
                            <ion-select-option value="19">TAR</ion-select-option>
                            <ion-select-option value="20">UNITED AIRLINES</ion-select-option>
                            <ion-select-option value="1">VIVA AEROBUS</ion-select-option>
                            <ion-select-option value="21">VIVA AIR</ion-select-option>
                            <ion-select-option value="2">VOLARIS</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">¿Cuántas escalas tiene?</ion-label>
                          <ion-input id="vuelo_escalas" name="vuelo_escalas" [(ngModel)]="SR_cotVuelos.v_escalas" #vuelo_escalas="ngModel" type="number" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Comentario</ion-label>
                          <textarea class="class-textarea" id="vuelo_cotComentario" name="vuelo_cotComentario"
                                    [(ngModel)]="SR_cotVuelos.v_comentario" #vuelo_cotComentario="ngModel"></textarea>
                        </ion-item>
                      </div>
                      <div>

                        <ion-button expand="block" fill="solid" shape="round" placeholder="Opcional..."
                                    (click)="SR_agregarCotizacion(1)" [disabled]="btn_cancelAction || !cotizacion_vuelosForm.valid">
                          <ion-icon slot="start" name="checkmark-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>

              <!-- Compras/Gastos -->
              <div class="class-cursor_notactive" *ngIf="segment_errores === 3" [ngStyle]="{'display': SR_solicitud.errores.error_div_compras === 0 ? 'block' : 'none'}" style="max-width: none;">
                <div class="ion-padding-top ion-padding-bottom"> <!-- COMPRAS/GASTOS -->
                  <ion-item>
                    <ion-label><h3>Gastos</h3></ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">

                    <!-- PRECIO COMPRA -->
                    <ion-row *ngFor="let data of SR_compras.precioCompra; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <ion-label>
                          <p class="ion-no-margin class-p_primary">{{data.concepto}}</p>
                          <p class="ion-no-margin">{{data.monto}} {{data.moneda}}</p>
                        </ion-label>
                      </ion-col>
                      <ion-col  class="ion-align-self-center" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el gasto de \'' + data.concepto + '\'?', 'danger', {tipo_solicitud: 1, tipo: 4, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <!-- GASTOS EXTRAS -->
                    <ion-row *ngFor="let data of SR_compras.cargosExtras; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <p class="ion-no-margin">
                          <span class="class-p_primary">{{data.concepto_extra}}</span> <br>
                          <small>({{data.motivo}}. {{data.comentario}})</small>
                        </p>
                        <p class="ion-no-margin">{{data.monto}} {{data.moneda}}</p>
                      </ion-col>
                      <ion-col  class="ion-align-self-center" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el gasto extra de \'' + data.concepto_extra + '\'?', 'danger', {tipo_solicitud: 1, tipo: 2, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <!-- NO HAY INFORMACIÓN -->
                    <ion-row *ngIf="SR_compras.precioCompra ? SR_compras.precioCompra.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12">
                        <p>- No hay información -</p>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <ion-row class="ion-padding">
                      <ion-col size="5"><p class="ion-no-margin" style="color: #eb445a;">Total:</p></ion-col>
                      <ion-col size="7"><p class="ion-no-margin ion-text-end" style="color: #eb445a;">{{SR_compras.total}}</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom"> <!-- COMENTARIOS -->
                  <ion-item>
                    <ion-label><h3>Comentarios</h3></ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngIf="SR_compras.viaticos_ingo === 1">
                      <ion-col class="ion-no-padding" size="12">
                        <p *ngIf="SR_compras.viaticos" style="font-weight: bold;">
                          El colaborador solicitante <span style="color: #eb445a;">debe cargarlo a viáticos</span>.
                        </p>
                        <p *ngIf="!SR_compras.viaticos" style="font-weight: bold;">
                          El colaborador solicitante <span style="color: #eb445a;">no debe cargarlo a viáticos</span>.
                        </p>
                      </ion-col>
                    </ion-row>
                    <ion-row *ngFor="let data of SR_compras.comentarios; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <li><span>{{data.comentario}}</span></li>
                      </ion-col>
                      <ion-col  class="ion-align-self-center ion-no-padding" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el comentario?', 'danger', {tipo_solicitud: 1, tipo: 3, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.comentarios ? SR_compras.comentarios.length === 0 : true">
                      <ion-col class="ion-text-center" size="12">
                        <p>- No hay información -</p>
                      </ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom"> <!-- ARCHIVOS ADJUNTOS -->
                  <ion-item>
                    <ion-label>
                      <h3>Archivos adjuntos</h3>
                      <p>El archivo se descargará al hacer click en su nombre.</p>
                    </ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngFor="let data of SR_compras.arcAdjuntos; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <li><a href="http://intranet.ecn.com.mx:8060/intranet/php/servicios_reservaciones/adjuntos/{{data.comentario}}" target="_blank">{{data.concepto}} {{data.ext_archivo}}</a></li>
                      </ion-col>
                      <ion-col  class="ion-align-self-center ion-no-padding" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el archivo adjunto?', 'danger', {tipo_solicitud: 1, tipo: 1, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.arcAdjuntos ? SR_compras.arcAdjuntos.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom" *ngIf="colaborador_id === 1050"> <!-- INFO ASESOR -->
                  <ion-item>
                    <ion-label>
                      <h3>Tarifa pública y compras con días de anticipación.</h3>
                      <p><small>(Solo visible para el asesor de servicios y reservaciones)</small></p>
                    </ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngFor="let data of SR_compras.asesor; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <ion-label>
                          <p *ngIf="data.tipo === 'PR'" class="ion-no-margin">
                            Pública: {{data.concepto}}
                          </p>
                          <p *ngIf="data.tipo === 'PC'" class="ion-no-margin">
                            Concepto: {{data.concepto}} (con días de anticipación de las políticas).
                          </p>
                          <p class="ion-no-margin">Precio: {{data.monto}} {{data.moneda}}</p>
                        </ion-label>
                      </ion-col>
                      <ion-col class="ion-align-self-center ion-no-padding" size="auto">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar la tarifa de \'' + data.concepto + '\'?', 'danger', {tipo_solicitud: 1, tipo: 5, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.asesor ? SR_compras.asesor.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div> <!-- AGREGAR INFORMACIÓN -->
                  <div class="ion-padding" [ngStyle]="{'display': SR_solicitud.solicitante.div_compras_capturar === 0 ? 'block' : 'none'}"> <!-- AGREGAR  -->
                    <ion-item>
                      <ion-label><h3><b>Agregar información</b></h3></ion-label>
                    </ion-item>
                    <ion-item>
                      <ion-label position="stacked">Tipo de información</ion-label>
                      <ion-select id="v_agregarInformacion" name="v_agregarInformacion" interface="popover" style="white-space: initial;"
                                  [(ngModel)]="SR_agregarInformacion_compras" #v_agregarInformacion="ngModel" (ionChange)="CHANGE_extraCompra_info_resetData();">
                        <ion-select-option [value]="0">- Selecciona -</ion-select-option>
                        <ion-select-option [value]="1">Adjuntar archivo</ion-select-option>
                        <ion-select-option [value]="2">Agregar cargos extras</ion-select-option>
                        <ion-select-option [value]="3">Comentario</ion-select-option>
                        <ion-select-option [value]="4">Tarifa de compra</ion-select-option>
                        <ion-select-option [value]="5">Tarifa pública</ion-select-option>
                        <ion-select-option [value]="6">¿El colaborador debe cargarlo a viaticos?</ion-select-option>
                      </ion-select>
                    </ion-item>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 1"> <!-- AGREGAR ADJUNTOS -->
                      <form #vuelo_adjuntarArchivoForm="ngForm">
                        <ion-item>
                          <ion-label *ngIf="this.SR_extraCompra_info.AdjArchivo.archivo"><p>{{this.SR_extraCompra_info.AdjArchivo.titulo_archivo}}</p></ion-label>
                          <ion-label *ngIf="!this.SR_extraCompra_info.AdjArchivo.archivo"><p>Archivo no seleccionado...</p></ion-label>
                        </ion-item>
                        <ion-button expand="full" fill="clear" shape="round">
                          <input id="vuelo_fileInfo" name="vuelo_fileInfo" type="file" (change)="SR_changeFile($event);" accept=".pdf, .doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document">
                          <label id="vuelo_labelSeleccionar" name="vuelo_labelSeleccionar1" for="vuelo_fileInfo" slot="end">
                            <ion-icon lazy="true" slot="start" name="document-outline"></ion-icon>
                          </label>
                          <label id="vuelo_labelSeleccionar" name="vuelo_labelSeleccionar2" for="vuelo_fileInfo" slot="end">Seleccionar archivo</label>
                        </ion-button>
                        <br>
                        <ion-item counter="true">
                          <ion-label position="stacked">Describe brevemente el contenido como título del archivo</ion-label>
                          <textarea class="class-textarea" id="vuelo_txtTituloArchivo" name="vuelo_txtTituloArchivo" maxlength="500"
                                    [(ngModel)]="SR_extraCompra_info.AdjArchivo.descripcion" #vuelo_txtTituloArchivo="ngModel"
                                    placeholder="Ejemplo: XML de la factura, Itinerario del vuelo Y07, etc." ></textarea>
                        </ion-item>
                        <ion-button [disabled]="!SR_extraCompra_info.AdjArchivo.archivo || !SR_extraCompra_info.AdjArchivo.descripcion" (click)="SR_extraCompra(1, 1);" expand="full" fill="solid" shape="round">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 2"> <!-- AGREGAR COSTOS -->
                      <form #vuelo_cargosExtrasForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="v_agregarCosto_vinculalo" name="v_agregarCosto_vinculalo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.vinculo" #v_agregarCosto_vinculalo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Motivo del cambio</ion-label>
                          <ion-select id="v_agregarCosto_motivo" name="v_agregarCosto_motivo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.motivo" #v_agregarCosto_motivo="ngModel" required>
                            <ion-select-option value="1">Motivos de salud</ion-select-option>
                            <ion-select-option value="2">Cambios en la agenda del cliente</ion-select-option>
                            <ion-select-option value="4">Cambios en la agenda del proyecto</ion-select-option>
                            <ion-select-option value="3">Por petición del colaborador</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Concepto</ion-label>
                          <ion-select id="v_agregarCosto_concepto" name="v_agregarCosto_concepto" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.concepto_extra" #v_agregarCosto_concepto="ngModel" required>
                            <ion-select-option value="6">Ascenso de clase</ion-select-option>
                            <ion-select-option value="7">Asiento</ion-select-option>
                            <ion-select-option value="8">Cambio de asiento</ion-select-option>
                            <ion-select-option value="2">Cambio de fecha</ion-select-option>
                            <ion-select-option value="1">Cambio de horario</ion-select-option>
                            <ion-select-option value="3">Cambio de nombre</ion-select-option>
                            <ion-select-option value="5">Cambio de vuelo</ion-select-option>
                            <ion-select-option value="9">Cancelación</ion-select-option>
                            <ion-select-option value="4">Equipaje</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Costo</ion-label>
                          <ion-input id="v_agregarCosto_costo" name="v_agregarCosto_costo" type="number"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.monto" #v_agregarCosto_costo="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="v_agregarCosto_moneda" name="v_agregarCosto_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.moneda" #v_agregarCosto_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Comentario opcional</ion-label>
                          <textarea class="class-textarea" id="v_agregarCosto_comentario" name="v_agregarCosto_comentario"
                                    [(ngModel)]="SR_extraCompra_info.CargoExtra.comentario" #v_agregarCosto_comentario="ngModel"></textarea>
                        </ion-item>

                        <ion-button (click)="SR_extraCompra(1, 2);" expand="full" fill="solid" shape="round"
                                    [disabled]="!vuelo_cargosExtrasForm.valid">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 3"> <!-- AGREGAR COMENTARIO EXTRA -->
                      <form #vuelo_comentarioForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Comentario</ion-label>
                          <textarea class="class-textarea" id="v_agregarComentarioExtra_comentario" name="v_agregarComentarioExtra_comentario"
                                    [(ngModel)]="SR_extraCompra_info.Comentario.comentario" #v_agregarComentarioExtra_comentario="ngModel" required></textarea>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!vuelo_comentarioForm.valid"
                                    (click)="SR_extraCompra(1, 3);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 4"> <!-- AGREGAR PRECIO -->
                      <form #vuelo_precioCompraForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="v_agregarPrecio_vinculo" name="v_agregarPrecio_vinculo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.vinculo" #v_agregarPrecio_vinculo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Concepto</ion-label>
                          <textarea class="class-textarea" id="v_agregarPrecio_concepto" name="v_agregarPrecio_concepto" maxlength="500"
                                    [(ngModel)]="SR_extraCompra_info.TarifaCompra.concepto" #v_agregarPrecio_concepto="ngModel" required></textarea>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Costo</ion-label>
                          <ion-input id="v_agregarPrecio_costo" name="v_agregarPrecio_costo" type="number"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.monto" #v_agregarPrecio_costo="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="v_agregarPrecio_moneda" name="v_agregarPrecio_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.moneda" #v_agregarPrecio_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <div *ngIf="SR_solicitud.errores.solicitud_errordias_v > 0">
                          <ion-item>
                            <ion-label position="stacked">Tarifa de compra con los días de anticipación de las políticas</ion-label>
                            <ion-input id="v_agregarPrecio_tarifaCompra" name="v_agregarPrecio_tarifaCompra" type="number"
                                        [(ngModel)]="SR_extraCompra_info.TarifaCompra.monto_dias" #v_agregarPrecio_tarifaCompra="ngModel" required></ion-input>
                          </ion-item>
                          <ion-item>
                            <ion-label position="stacked">Moneda</ion-label>
                            <ion-select id="v_agregarPrecio_monedaExtra" name="v_agregarPrecio_monedaExtra" placeholder="Selecciona" interface="popover"
                                        [(ngModel)]="SR_extraCompra_info.TarifaCompra.moneda_extra" #v_agregarPrecio_monedaExtra="ngModel" required>
                              <ion-select-option value="MXN">MXN</ion-select-option>
                              <ion-select-option value="USD">USD</ion-select-option>
                            </ion-select>
                          </ion-item>
                        </div>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!vuelo_precioCompraForm.valid"
                                    (click)="SR_extraCompra(1, 4);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 5"> <!-- AGREGAR CONVENIO -->
                      <form #vuelo_precioPublicaForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="v_agregarConvenio_vinculo" name="v_agregarConvenio_vinculo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.vinculo" #v_agregarConvenio_vinculo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Agrega una pequeña descripción del concepto</ion-label>
                          <textarea class="class-textarea" id="v_agregarConvenio_concepto" name="v_agregarConvenio_concepto" maxlength="500"
                                    placeholder="Ejm.: Convenio preestablecido en Aerolinea bajo Condiciones para el vuelo #tal"
                                    [(ngModel)]="SR_extraCompra_info.TarifaPublica.concepto" #v_agregarConvenio_concepto="ngModel" required></textarea>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Tarifa pública</ion-label>
                          <ion-input id="v_agregarConvenio_tarifaPublica" name="v_agregarConvenio_tarifaPublica" type="number"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.monto" #v_agregarConvenio_tarifaPublica="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="v_agregarConvenio_moneda" name="v_agregarConvenio_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.moneda" #v_agregarConvenio_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!vuelo_precioPublicaForm.valid"
                                    (click)="SR_extraCompra(1, 5);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 6"> <!-- AGREGAR VIATICOS -->
                      <form #vuelo_viaticosForm="ngForm">
                        <ion-item>
                          <ion-label>
                            <p><small style="color:#eb445a">Solo puedes guardar la respuesta una vez</small></p>
                          </ion-label>
                        </ion-item>

                        <ion-item>
                          <ion-label position="stacked">¿El colaborador debe cargarlo a viaticos?</ion-label>
                          <ion-select id="v_agregarViaticos_viaticos" name="v_agregarViaticos_viaticos" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoViaticos.viaticos" #v_agregarViaticos_viaticos="ngModel" required>
                            <ion-select-option value="1">Si</ion-select-option>
                            <ion-select-option value="0">No</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!vuelo_viaticosForm.valid"
                                    (click)="SR_extraCompra(1, 6);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>

  </div>

  <div *ngSwitchCase="5"> <!-- Hospedaje -->


    <div><!-- ACCIONES -->
      <div *ngIf="SR_divAcciones.hosp.opt1"><!-- -->
      <!--<div><!-- -->
        <ion-button (click)="SR_ACCIONES_createModal_editarServicio(2)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="pencil-outline"></ion-icon>
          Editar
        </ion-button>
        <ion-button (click)="SR_ACCIONES_eliminarDetalle(2)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="trash-outline"></ion-icon>
          Eliminar servicio
        </ion-button>
      </div>

      <div *ngIf="SR_divAcciones.hosp.opt2"><!-- -->
      <!--<div><!-- -->
        <ion-button (click)="SR_ACCIONES_createModal_recotizar(2)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="build-outline"></ion-icon>
          Recotizar
        </ion-button>
      </div>

      <div *ngIf="SR_divAcciones.hosp.opt3"><!-- -->
      <!--<div><!-- -->
        <ion-button (click)="SR_ACCIONES_createModal_cancelarServicio(2)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="trash-outline"></ion-icon>
          Ya no quiero este servicio
        </ion-button>

        <ion-button (click)="SR_ACCIONES_createModal_reagendar(2)" expand="block" fill="solid" shape="round"
                    *ngIf="SR_solicitud.solicitante.reagenda_hosp === 0">
          <ion-icon slot="start" name="build-outline"></ion-icon>
          Reagendar
        </ion-button>
        <ion-label class="ion-text-center"
                    *ngIf="SR_solicitud.solicitante.reagenda_hosp !== 0">
          <p>(Esperando autorización para reagendar)</p>
        </ion-label>
      </div>
    </div>

    <br>

    <ion-item>
      <ion-label class="ion-text-center">
        <b>Hospedaje</b>
        <!-- cañedo prestar config para dar de alta correo automation celular -->
        <p style="color: #eb445a;" *ngIf="SR_solicitud.hospedaje.estado_h === 14">
          [Cancelado por el solicitante]
        </p>
      </ion-label>
      <ion-label class="ion-text-center"
                  *ngIf="SR_solicitud.solicitante.div_cambionombre !== ''">
        <p>{{SR_solicitud.solicitante.div_cambionombre}}</p>
      </ion-label>
    </ion-item>

    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="4">
          <ion-item>
            <ion-label position="stacked"><h3>Tipo de hospedaje</h3></ion-label>
            <p>{{SR_solicitud.hospedaje.h_tipo}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Lugar de hospedaje</h3></ion-label>
            <p>{{SR_solicitud.hospedaje.h_ciudad}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>¿Es internacional?</h3></ion-label>
            <p>{{SR_solicitud.hospedaje.internacional}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Entrada</h3></ion-label>
            <p>{{SR_solicitud.hospedaje.inicio_entrada_n}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Salida</h3></ion-label>
            <p>{{SR_solicitud.hospedaje.fin_salida_n}}</p>
          </ion-item>
        </ion-col>
        <ion-col size="12" size-md="8">
          <div class="class-div_box" *ngIf="SR_solicitud.errores.h_errores > 0 || SR_solicitud.hospedaje.div_h_cotiz === 0 || SR_solicitud.errores.error_div_compras === 0">
            <ion-segment [(ngModel)]="segment_errores" class="ion-text-capitalize">
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize" value="1"
                                  [ngStyle]="{'display': SR_solicitud.errores.h_errores > 0 ? 'block' : 'none'}"
                                  style="max-width: none">
                <div class="class-div_desvanecer_sm">
                  <ion-label>Errores</ion-label>
                  <ion-icon name="close"></ion-icon>
                </div>
              </ion-segment-button>
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize" value="2"
                                  [ngStyle]="{'display': SR_solicitud.hospedaje.div_h_cotiz === 0 ? 'block' : 'none'}"
                                  style="max-width: none">
                <div class="class-div_desvanecer_sm">
                  <ion-icon name="business"></ion-icon>
                  <ion-label>Cotizaciones</ion-label>
                </div>
              </ion-segment-button>
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize" value="3"
                                  [ngStyle]="{'display': SR_solicitud.errores.error_div_compras === 0 ? 'block' : 'none'}"
                                  (click)="SR_verCompras(2);" style="max-width: none">
                <div class="class-div_desvanecer_sm">
                  <ion-icon name="cart"></ion-icon>
                  <ion-label>Compra</ion-label>
                </div>
              </ion-segment-button>
            </ion-segment>

            <div [ngSwitch]="segment_errores">
              <!-- Errores -->
              <div *ngSwitchCase="1" [ngStyle]="{'display': SR_solicitud.errores.h_errores > 0 ? 'block' : 'none'}" style="max-width: none">
                <div class="class-cursor_notactive class-div_box-border class-div_historial">
                    <div *ngFor="let data of SR_solicitud.errores.h_errores_txt; let i = index;">
                      <p>
                        <span [ngStyle]="{'color': data.error === 1 ? 'red' : ''}">{{data.data}}</span>
                        <span>{{data.extra}}</span>
                      </p>
                    </div>
                </div>
              </div>

              <!-- Cotizaciones -->
              <div [ngStyle]="{'display': SR_solicitud.hospedaje.div_h_cotiz === 0 ? 'block' : 'none'}">
                <div *ngSwitchCase="2"  style="max-width: none">
                  <div class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-radio-group [(ngModel)]="SR_radio.hosp">
                      <div *ngFor="let data of SR_solicitud.hospedaje_cotizacion; let i = index;">
                        <ion-grid class="class-div_box">
                          <ion-row>
                            <ion-col size="auto" class="ion-align-self-center ion-text-center">
                              <div  [ngStyle]="{'display': (SR_solicitud.hospedaje.h_inputs_cotiz === 1 || SR_solicitud.hospedaje.display_btn_cancel_h === 1) ? 'none' : ''}"
                                    *ngIf="((colaborador_id === SR_solicitud.solicitante.lider_id) && (SR_solicitud.solicitante.edo === 8)) ||
                                          ((SR_solicitud.solicitante.edo === 15) && (colaborador_id === 1050))"><!---->
                              <!--<div><!---->
                                <ion-radio [value]="data.id"></ion-radio>
                              </div>
                            </ion-col>
                            <ion-col (click)="SR_createModalDetalles(2, i);">
                              <ion-row>
                                <ion-col size="12" size-sm="8">
                                  <p class="class-p_primary"><b>{{data.hotel}}</b></p>
                                  <p>{{data.h_tipo}}</p>
                                  <small>{{data.origen}}</small>
                                </ion-col>
                                <ion-col size="12" size-sm="4">
                                  <p class="class-p_primary"><b>Precio:</b></p>
                                  <p>{{data.precio_n}} <small>{{data.moneda}}</small></p>
                                </ion-col>
                              </ion-row>
                            </ion-col>
                            <ion-col size="auto" class="ion-align-self-center ion-text-center">
                              <ion-button fill="clear" shape="round" (click)="btn_cancelAction = true; confirmAlert('¿Seguro que quiere eliminar la cotización \' ' + data.hotel + ' \'?', 'danger', {tipo: 19, i: i});"
                                          [ngStyle]="{'display': (SR_solicitud.hospedaje.h_inputs_cotiz === 1 || SR_solicitud.hospedaje.display_btn_cancel_h === 1) ? 'none' : ''}"
                                          *ngIf="(colaborador_id === 1050) && ((SR_solicitud.solicitante.edo === 4) || (SR_solicitud.solicitante.edo === 6) || (SR_solicitud.solicitante.edo === 16))" [disabled]="btn_cancelAction">
                                <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                              </ion-button>
                            </ion-col>
                          </ion-row>
                        </ion-grid>
                      </div>
                      <div *ngIf="SR_solicitud.hospedaje_cotizacion ? SR_solicitud.hospedaje_cotizacion.length === 0 : true">
                        <ion-grid>
                          <ion-row>
                            <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                          </ion-row>
                        </ion-grid>
                      </div>
                    </ion-radio-group>
                  </div>
                </div>

                <div *ngSwitchCase="2" style="max-width: none;">
                  <!-- Boton de selección de cotización -->
                  <div  [ngStyle]="{'display': (SR_solicitud.hospedaje.h_inputs_cotiz === 1 || SR_solicitud.hospedaje.display_btn_cancel_h === 1) ? 'none' : ''}"
                        *ngIf="(colaborador_id === SR_solicitud.solicitante.lider_id && SR_solicitud.solicitante.edo === 8) || (colaborador_id === 1050 && SR_solicitud.solicitante.edo === 15)"><!---->
                  <!--<div><!---->
                    <ion-button class="class-div_aparecer_sm" expand="full" fill="solid" shape="round"
                                (click)="SR_selectCotizacion(2);" [disabled]=" SR_radio.hosp === 0 || btn_cancelAction">
                      <ion-icon slot="icon-only" name="checkmark-outline"></ion-icon>
                      <ion-label><h3>Seleccionar cotización</h3></ion-label>
                    </ion-button>
                  </div>

                  <!-- Crear cotización en hospedaje -->
                  <div  [ngStyle]="{'display': (SR_solicitud.hospedaje.h_inputs_cotiz === 1 || SR_solicitud.hospedaje.display_btn_cancel_h === 1) ? 'none' : ''}"
                        *ngIf="(colaborador_id === 1050) && ((SR_solicitud.solicitante.edo === 4) || (SR_solicitud.solicitante.edo === 6) || (SR_solicitud.solicitante.edo === 15) || (SR_solicitud.solicitante.edo === 16))">
                  <!--<div><!---->
                    <hr>
                    <br>

                    <form #cotizacion_hospedajeForm="ngForm">
                      <ion-item class="ion-text-center">
                        <ion-label><h3><b>Agregar cotización</b></h3></ion-label>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Hotel</ion-label>
                        <ion-input id="h_name" name="h_name" [(ngModel)]="SR_cotHospedaje.h_name" #h_name="ngModel" type="text" placeholder="Nombre del hotel" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Habitación</ion-label>
                        <ion-select id="h_tipo" name="h_tipo" interface="popover" [(ngModel)]="SR_cotHospedaje.h_tipo" #h_tipo="ngModel" required>
                          <ion-select-option value="" disabled>Seleccionar habitación</ion-select-option>
                          <ion-select-option value="1">Individual</ion-select-option>
                          <ion-select-option value="2">Doble</ion-select-option>
                          <ion-select-option value="3">Triple</ion-select-option>
                          <ion-select-option value="4">Cuádruple</ion-select-option>
                          <ion-select-option value="5">Casa ECN</ion-select-option>
                        </ion-select>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Fecha de entrada</ion-label>
                        <ion-input id="h_entrada" name="h_entrada" [(ngModel)]="SR_cotHospedaje.h_entrada" #h_entrada="ngModel"
                                    type="date" [max]="SR_cotHospedaje.h_salida" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Fecha de salida</ion-label>
                        <ion-input id="h_salida" name="h_salida" [(ngModel)]="SR_cotHospedaje.h_salida" #h_salida="ngModel"
                                    type="date" [min]="SR_cotHospedaje.h_entrada" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Precio</ion-label>
                        <ion-input id="h_precio" name="h_precio" [(ngModel)]="SR_cotHospedaje.h_precio" #h_precio="ngModel" type="number" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Moneda</ion-label>
                        <ion-select id="h_moneda" name="h_moneda" interface="popover" [(ngModel)]="SR_cotHospedaje.h_moneda" #h_moneda="ngModel" required>
                          <ion-select-option value="" disabled>Seleccionar moneda</ion-select-option>
                          <ion-select-option value="MXN">MXN</ion-select-option>
                          <ion-select-option value="USD">USD</ion-select-option>
                        </ion-select>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Ciudad</ion-label>
                        <ion-input id="h_ciudad" name="h_ciudad" [(ngModel)]="SR_cotHospedaje.h_ciudad" #h_ciudad="ngModel" type="text" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Comentario</ion-label>
                        <textarea class="class-textarea" id="h_comentario" name="h_comentario" placeholder="Opcional..."
                                  [(ngModel)]="SR_cotHospedaje.h_comentario" #h_comentario="ngModel"></textarea>
                      </ion-item>

                      <br>

                      <ion-button class="class-div_aparecer_sm" expand="full" fill="solid" shape="round"
                                  (click)="SR_agregarCotizacion(2);" [disabled]="!cotizacion_hospedajeForm.valid || btn_cancelAction">
                        <ion-icon slot="icon-only" name="save"></ion-icon>
                        <ion-label>Guardar</ion-label>
                      </ion-button>
                    </form>
                  </div>
                </div>
              </div>

              <!-- Compras/Gastos -->
              <div class="class-cursor_notactive" *ngSwitchCase="3" [ngStyle]="{'display': SR_solicitud.errores.error_div_compras === 0 ? 'block' : 'none'}" style="max-width: none">
                <div class="ion-padding-top ion-padding-bottom"> <!-- COMPRAS/GASTOS -->
                  <ion-item>
                    <ion-label><h3>Gastos</h3></ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">

                    <!-- PRECIO COMPRA -->
                    <ion-row *ngFor="let data of SR_compras.precioCompra; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <ion-label>
                          <p class="ion-no-margin class-p_primary">{{data.concepto}}</p>
                          <p class="ion-no-margin">{{data.monto}} {{data.moneda}}</p>
                        </ion-label>
                      </ion-col>
                      <ion-col  class="ion-align-self-center" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el gasto de \'' + data.concepto + '\'?', 'danger', {tipo_solicitud: 2, tipo: 4, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <!-- GASTOS EXTRAS -->
                    <ion-row *ngFor="let data of SR_compras.cargosExtras; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <ion-label>
                          <p class="ion-no-margin">
                            <span class="class-p_primary">{{data.concepto_extra}}</span> <br>
                            <small>({{data.motivo}}. {{data.comentario}})</small>
                          </p>
                          <p class="ion-no-margin">{{data.monto}} {{data.moneda}}</p>
                        </ion-label>
                      </ion-col>
                      <ion-col  class="ion-align-self-center" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el gasto extra de \'' + data.concepto_extra + '\'?', 'danger', {tipo_solicitud: 2, tipo: 2, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <!-- NO HAY INFORMACIÓN -->
                    <ion-row *ngIf="SR_compras.precioCompra ? SR_compras.precioCompra.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12">
                        <p>- No hay información -</p>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <ion-row class="ion-padding">
                      <ion-col size="5"><p class="ion-no-margin" style="color: #eb445a;">Total:</p></ion-col>
                      <ion-col size="7"><p class="ion-no-margin ion-text-end" style="color: #eb445a;">{{SR_compras.total}}</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom"> <!-- COMENTARIOS -->
                  <ion-item>
                    <ion-label><h3>Comentarios</h3></ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngIf="SR_compras.viaticos_ingo === 1">
                      <ion-col class="ion-no-padding" size="12">
                        <p *ngIf="SR_compras.viaticos" style="font-weight: bold;">
                          El colaborador solicitante <span style="color: #eb445a;">debe cargarlo a viáticos</span>.
                        </p>
                        <p *ngIf="!SR_compras.viaticos" style="font-weight: bold;">
                          El colaborador solicitante <span style="color: #eb445a;">no debe cargarlo a viáticos</span>.
                        </p>
                      </ion-col>
                    </ion-row>
                    <ion-row *ngFor="let data of SR_compras.comentarios; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <li><span>{{data.comentario}}</span></li>
                      </ion-col>
                      <ion-col  class="ion-align-self-center ion-no-padding" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el comentario?', 'danger', {tipo_solicitud: 2, tipo: 3, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.comentarios ? SR_compras.comentarios.length === 0 : true">
                      <ion-col class="ion-text-center" size="12">
                        <p>- No hay información -</p>
                      </ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom"> <!-- ARCHIVOS ADJUNTOS -->
                  <ion-item>
                    <ion-label>
                      <h3>Archivos adjuntos</h3>
                      <p>El archivo se descargará al hacer click en su nombre.</p>
                    </ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngFor="let data of SR_compras.arcAdjuntos; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <li><a href="http://intranet.ecn.com.mx:8060/intranet/php/servicios_reservaciones/adjuntos/{{data.comentario}}" target="_blank">{{data.concepto}} {{data.ext_archivo}}</a></li>
                      </ion-col>
                      <ion-col  class="ion-align-self-center ion-no-padding" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el archivo adjunto?', 'danger', {tipo_solicitud: 2, tipo: 1, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.arcAdjuntos ? SR_compras.arcAdjuntos.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom" *ngIf="colaborador_id === 1050"> <!-- INFO ASESOR -->
                  <ion-item>
                    <ion-label>
                      <h3>Tarifa pública y compras con días de anticipación.</h3>
                      <p><small>(Solo visible para el asesor de servicios y reservaciones)</small></p>
                    </ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngFor="let data of SR_compras.asesor; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <ion-label>
                          <p *ngIf="data.tipo === 'PR'" class="ion-no-margin">
                            Pública: {{data.concepto}}
                          </p>
                          <p *ngIf="data.tipo === 'PC'" class="ion-no-margin">
                            Concepto: {{data.concepto}} (con días de anticipación de las políticas).
                          </p>
                          <p class="ion-no-margin">Precio: {{data.monto}} {{data.moneda}}</p>
                        </ion-label>
                      </ion-col>
                      <ion-col class="ion-align-self-center ion-no-padding" size="auto">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar la tarifa de \'' + data.concepto + '\'?', 'danger', {tipo_solicitud: 2, tipo: 5, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.asesor ? SR_compras.asesor.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div> <!-- AGREGAR INFORMACIÓN -->
                  <div class="ion-padding" [ngStyle]="{'display': SR_solicitud.solicitante.div_compras_capturar === 0 ? 'block' : 'none'}"> <!-- AGREGAR  -->
                    <ion-item>
                      <ion-label><h3><b>Agregar información</b></h3></ion-label>
                    </ion-item>
                    <ion-item>
                      <ion-label position="stacked">Tipo de información</ion-label>
                      <ion-select id="h_agregarInformacion" name="h_agregarInformacion" interface="popover"
                                  [(ngModel)]="SR_agregarInformacion_compras" #h_agregarInformacion="ngModel" (ionChange)="CHANGE_extraCompra_info_resetData();">
                        <ion-select-option [value]="0">- Selecciona -</ion-select-option>
                        <ion-select-option [value]="1">Adjuntar archivo</ion-select-option>
                        <ion-select-option [value]="2">Agregar cargos extras</ion-select-option>
                        <ion-select-option [value]="3">Comentario</ion-select-option>
                        <ion-select-option [value]="4">Tarifa de compra</ion-select-option>
                        <ion-select-option [value]="5">Tarifa pública</ion-select-option>
                        <ion-select-option [value]="6">¿El colaborador debe cargarlo a viaticos?</ion-select-option>
                      </ion-select>
                    </ion-item>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 1"> <!-- AGREGAR ADJUNTOS -->
                      <form #hosp_adjuntarArchivoForm="ngForm">
                        <ion-item>
                          <ion-label *ngIf="this.SR_extraCompra_info.AdjArchivo.archivo"><p>{{this.SR_extraCompra_info.AdjArchivo.titulo_archivo}}</p></ion-label>
                          <ion-label *ngIf="!this.SR_extraCompra_info.AdjArchivo.archivo"><p>Archivo no seleccionado...</p></ion-label>
                        </ion-item>
                        <ion-button expand="full" fill="clear" shape="round">
                          <input id="hosp_fileInfo" name="hosp_fileInfo" type="file" (change)="SR_changeFile($event);" accept=".pdf, .doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document" required>
                          <label id="hosp_labelSeleccionar" name="hosp_labelSeleccionar1" for="hosp_fileInfo" slot="end">
                            <ion-icon lazy="true" slot="start" name="document-outline"></ion-icon>
                          </label>
                          <label id="hosp_labelSeleccionar" name="hosp_labelSeleccionar2" for="hosp_fileInfo" slot="end">Seleccionar archivo</label>
                        </ion-button>
                        <br>
                        <ion-item counter="true">
                          <ion-label position="stacked">Describe brevemente el contenido como título del archivo</ion-label>
                          <textarea class="class-textarea" id="hosp_txtTituloArchivo" name="hosp_txtTituloArchivo" maxlength="500"
                                    [(ngModel)]="SR_extraCompra_info.AdjArchivo.descripcion" #hosp_txtTituloArchivo="ngModel"
                                    placeholder="Ejemplo: XML de la factura, Itinerario del vuelo Y07, etc." required></textarea>
                        </ion-item>
                        <ion-button [disabled]="!hosp_adjuntarArchivoForm.valid" (click)="SR_extraCompra(2, 1);" expand="full" fill="solid" shape="round">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 2"> <!-- AGREGAR COSTOS -->
                      <form #hosp_cargosExtrasForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="h_agregarCosto_vinculalo" name="h_agregarCosto_vinculalo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.vinculo" #h_agregarCosto_vinculalo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Motivo del cambio</ion-label>
                          <ion-select id="h_agregarCosto_motivo" name="h_agregarCosto_motivo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.motivo" #h_agregarCosto_motivo="ngModel" required>
                            <ion-select-option value="1">Motivos de salud</ion-select-option>
                            <ion-select-option value="2">Cambios en la agenda del cliente</ion-select-option>
                            <ion-select-option value="4">Cambios en la agenda del proyecto</ion-select-option>
                            <ion-select-option value="3">Por petición del colaborador</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Concepto</ion-label>
                          <ion-select id="h_agregarCosto_concepto" name="h_agregarCosto_concepto" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.concepto_extra" #h_agregarCosto_concepto="ngModel" required>
                            <ion-select-option value="6">Ascenso de clase</ion-select-option>
                            <ion-select-option value="7">Asiento</ion-select-option>
                            <ion-select-option value="8">Cambio de asiento</ion-select-option>
                            <ion-select-option value="2">Cambio de fecha</ion-select-option>
                            <ion-select-option value="1">Cambio de horario</ion-select-option>
                            <ion-select-option value="3">Cambio de nombre</ion-select-option>
                            <ion-select-option value="5">Cambio de vuelo</ion-select-option>
                            <ion-select-option value="9">Cancelación</ion-select-option>
                            <ion-select-option value="4">Equipaje</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Costo</ion-label>
                          <ion-input id="h_agregarCosto_costo" name="h_agregarCosto_costo" type="number"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.monto" #h_agregarCosto_costo="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="h_agregarCosto_moneda" name="h_agregarCosto_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.moneda" #h_agregarCosto_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Comentario opcional</ion-label>
                          <textarea class="class-textarea" id="h_agregarCosto_comentario" name="h_agregarCosto_comentario"
                                    [(ngModel)]="SR_extraCompra_info.CargoExtra.comentario" #h_agregarCosto_comentario="ngModel"></textarea>
                        </ion-item>

                        <ion-button (click)="SR_extraCompra(2, 2);" expand="full" fill="solid" shape="round"
                                    [disabled]="!hosp_cargosExtrasForm.valid">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 3"> <!-- AGREGAR COMENTARIO EXTRA -->
                      <form #hosp_comentarioForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Comentario</ion-label>
                          <textarea class="class-textarea" id="h_agregarComentarioExtra_comentario" name="h_agregarComentarioExtra_comentario"
                                    [(ngModel)]="SR_extraCompra_info.Comentario.comentario" #h_agregarComentarioExtra_comentario="ngModel" required></textarea>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!hosp_comentarioForm.valid"
                                    (click)="SR_extraCompra(2, 3);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 4"> <!-- AGREGAR PRECIO -->
                      <form #hosp_precioCompraForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="h_agregarPrecio_vinculo" name="h_agregarPrecio_vinculo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.vinculo" #h_agregarPrecio_vinculo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Concepto</ion-label>
                          <textarea class="class-textarea" id="h_agregarPrecio_concepto" name="h_agregarPrecio_concepto" maxlength="500"
                                    [(ngModel)]="SR_extraCompra_info.TarifaCompra.concepto" #h_agregarPrecio_concepto="ngModel" required></textarea>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Costo</ion-label>
                          <ion-input id="h_agregarPrecio_costo" name="h_agregarPrecio_costo" type="number"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.monto" #h_agregarPrecio_costo="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="h_agregarPrecio_moneda" name="h_agregarPrecio_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.moneda" #h_agregarPrecio_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <div *ngIf="SR_solicitud.errores.solicitud_errordias_h > 0">
                          <ion-item>
                            <ion-label position="stacked">Tarifa de compra con los días de anticipación de las políticas</ion-label>
                            <ion-input id="h_agregarPrecio_tarifaCompra" name="h_agregarPrecio_tarifaCompra" type="number"
                                        [(ngModel)]="SR_extraCompra_info.TarifaCompra.monto_dias" #h_agregarPrecio_tarifaCompra="ngModel" required></ion-input>
                          </ion-item>
                          <ion-item>
                            <ion-label position="stacked">Moneda</ion-label>
                            <ion-select id="h_agregarPrecio_monedaExtra" name="h_agregarPrecio_monedaExtra" placeholder="Selecciona" interface="popover"
                                        [(ngModel)]="SR_extraCompra_info.TarifaCompra.moneda_extra" #h_agregarPrecio_monedaExtra="ngModel" required>
                              <ion-select-option value="MXN">MXN</ion-select-option>
                              <ion-select-option value="USD">USD</ion-select-option>
                            </ion-select>
                          </ion-item>
                        </div>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!hosp_precioCompraForm.valid"
                                    (click)="SR_extraCompra(2, 4);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 5"> <!-- AGREGAR CONVENIO -->
                      <form #hosp_precioPublicaForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="h_agregarConvenio_vinculo" name="h_agregarConvenio_vinculo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.vinculo" #h_agregarConvenio_vinculo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Agrega una pequeña descripción del concepto</ion-label>
                          <textarea class="class-textarea" id="h_agregarConvenio_concepto" name="h_agregarConvenio_concepto" maxlength="500"
                                    placeholder="Ejm.: Convenio preestablecido en Aerolinea bajo Condiciones para el vuelo #tal"
                                    [(ngModel)]="SR_extraCompra_info.TarifaPublica.concepto" #h_agregarConvenio_concepto="ngModel" required></textarea>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Tarifa pública</ion-label>
                          <ion-input id="h_agregarConvenio_tarifaPublica" name="h_agregarConvenio_tarifaPublica" type="number"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.monto" #h_agregarConvenio_tarifaPublica="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="h_agregarConvenio_moneda" name="h_agregarConvenio_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.moneda" #h_agregarConvenio_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!hosp_precioPublicaForm.valid"
                                    (click)="SR_extraCompra(2, 5);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 6"> <!-- AGREGAR VIATICOS -->
                      <form #hosp_viaticosForm="ngForm">
                        <ion-item>
                          <ion-label>
                            <p><small style="color:#eb445a">Solo puedes guardar la respuesta una vez</small></p>
                          </ion-label>
                        </ion-item>

                        <ion-item>
                          <ion-label position="stacked">¿El colaborador debe cargarlo a viaticos?</ion-label>
                          <ion-select id="h_agregarViaticos_viaticos" name="h_agregarViaticos_viaticos" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoViaticos.viaticos" #h_agregarViaticos_viaticos="ngModel" required>
                            <ion-select-option value="1">Si</ion-select-option>
                            <ion-select-option value="0">No</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!hosp_viaticosForm.valid"
                                    (click)="SR_extraCompra(2, 6);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </ion-col>
      </ion-row>
    </ion-grid>

  </div>

  <div *ngSwitchCase="6"> <!-- Auto -->

    <div><!-- ACCIONES -->
      <div *ngIf="SR_divAcciones.auto.opt1">
        <ion-button (click)="SR_ACCIONES_createModal_editarServicio(3)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="pencil-outline"></ion-icon>
          Editar
        </ion-button>
        <ion-button (click)="SR_ACCIONES_eliminarDetalle(3)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="trash-outline"></ion-icon>
          Eliminar servicio
        </ion-button>
      </div>
      <div *ngIf="SR_divAcciones.auto.opt2">
        <ion-button (click)="SR_ACCIONES_createModal_recotizar(3)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="build-outline"></ion-icon>
          Recotizar
        </ion-button>
      </div>
      <div *ngIf="SR_divAcciones.auto.opt3">
        <ion-button (click)="SR_ACCIONES_createModal_cancelarServicio(3)" expand="block" fill="solid" shape="round">
          <ion-icon slot="start" name="trash-outline"></ion-icon>
          Ya no quiero este servicio
        </ion-button>
      </div>
    </div>

    <br>

    <ion-item>
      <ion-label class="ion-text-center">
        <b>Renta de autos</b>
        <!-- cañedo prestar config para dar de alta correo automation celular -->
        <p style="color: #eb445a;" *ngIf="SR_solicitud.auto.estado_a === 14">
          [Cancelado por el solicitante]
        </p>
      </ion-label>
      <ion-label class="ion-text-center"
                  *ngIf="SR_solicitud.solicitante.div_cambionombre !== ''">
        <p>{{SR_solicitud.solicitante.div_cambionombre}}</p>
      </ion-label>
    </ion-item>

    <ion-grid>
      <ion-row>
        <ion-col size="12" size-md="4">
          <ion-item>
            <ion-label position="stacked"><h3>Tipo de auto</h3></ion-label>
            <p>{{SR_solicitud.auto.a_tipo}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Lugar de entrega</h3></ion-label>
            <p>{{SR_solicitud.auto.a_lugar_entrega}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Inicio</h3></ion-label>
            <p>{{SR_solicitud.auto.inicio_entrada_n}}</p>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Fin</h3></ion-label>
            <p>{{SR_solicitud.auto.fin_salida_n}}</p>
          </ion-item>
        </ion-col>
        <ion-col size="12" size-md="8">
          <div class="class-div_box" *ngIf="SR_solicitud.errores.a_errores > 0 || SR_solicitud.auto.div_a_cotiz === 0 || SR_solicitud.errores.error_div_compras === 0">
            <ion-segment [(ngModel)]="segment_errores" class="ion-text-capitalize">
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize" value="1"
                                  [ngStyle]="{'display': SR_solicitud.errores.a_errores > 0 ? 'block' : 'none'}"
                                  style="max-width: none">
                <div class="class-div_desvanecer_sm">
                  <ion-label>Errores</ion-label>
                  <ion-icon name="close"></ion-icon>
                </div>
              </ion-segment-button>
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize" value="2"
                                  [ngStyle]="{'display': SR_solicitud.auto.div_a_cotiz === 0 ? 'block' : 'none'}"
                                  style="max-width: none">
                <div class="class-div_desvanecer_sm">
                  <ion-icon name="business"></ion-icon>
                  <ion-label>Cotizaciones</ion-label>
                </div>
              </ion-segment-button>
              <ion-segment-button class="class-div_desvanecer_md ion-text-capitalize" value="3"
                                  [ngStyle]="{'display': SR_solicitud.errores.error_div_compras === 0 ? 'block' : 'none'}"
                                  (click)="SR_verCompras(3);" style="max-width: none">
                <div class="class-div_desvanecer_sm">
                  <ion-icon name="cart"></ion-icon>
                  <ion-label>Compra</ion-label>
                </div>
              </ion-segment-button>
            </ion-segment>

            <div [ngSwitch]="segment_errores">
              <!-- Errores -->
              <div *ngSwitchCase="1" [ngStyle]="{'display': SR_solicitud.errores.a_errores > 0 ? 'block' : 'none'}" style="max-width: none">
                <div class="class-cursor_notactive class-div_box-border class-div_historial">
                    <div *ngFor="let data of SR_solicitud.errores.a_errores_txt; let i = index;">
                      <p>
                        <span [ngStyle]="{'color': data.error === 1 ? 'red' : ''}">{{data.data}}</span>
                        <span>{{data.extra}}</span>
                      </p>
                    </div>
                </div>
              </div>

              <!-- Cotizaciones -->
              <div [ngStyle]="{'display': SR_solicitud.auto.div_a_cotiz === 0 ? 'block' : 'none'}">
                <div *ngSwitchCase="2" style="max-width: none">
                  <div class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-radio-group [(ngModel)]="SR_radio.auto">
                      <div *ngFor="let data of SR_solicitud.autos_cotizacion; let i = index;">
                        <ion-grid class="class-div_box">
                          <ion-row class="ion-no-padding">
                            <ion-col size="auto" class="ion-align-self-center ion-text-center">
                              <div  [ngStyle]="{'display': (SR_solicitud.auto.a_inputs_cotiz === 1 || SR_solicitud.auto.display_btn_cancel_a === 1) ? 'none' : ''}"
                                    *ngIf="((colaborador_id === SR_solicitud.solicitante.lider_id) && (SR_solicitud.solicitante.edo === 8)) ||
                                          ((SR_solicitud.solicitante.edo === 15) && (colaborador_id === 1050))">
                                <ion-radio [value]="data.id"></ion-radio>
                              </div>
                            </ion-col>
                            <ion-col class="ion-no-margin ion-no-padding"
                                      (click)="SR_createModalDetalles(3, i);">
                              <ion-row class="ion-no-margin ion-no-padding">
                                <ion-col size="12" size-sm="6">
                                  <ion-label class="class-p_primary" position="stacked"><b>Arrendadora:</b></ion-label>
                                  <p class="ion-no-margin">{{data.arrendadora}}</p>
                                </ion-col>
                                <ion-col size="12" size-sm="6">
                                  <ion-label class="class-p_primary"><b>Precio: </b></ion-label>
                                  <p class="ion-no-margin">{{data.precio_n}} <small>{{data.moneda}}</small></p>
                                </ion-col>
                                <ion-col size="12" size-sm="6">
                                  <ion-label class="class-p_primary" position="stacked"><b>Recepción:</b></ion-label>
                                  <p class="ion-no-margin">{{data.fecha_salida_n}}</p>
                                </ion-col>
                                <ion-col size="12" size-sm="6">
                                  <ion-label class="class-p_primary" position="stacked"><b>Entrega:</b></ion-label>
                                  <p class="ion-no-margin">{{data.fecha_llegada_n}}</p>
                                </ion-col>
                              </ion-row>
                            </ion-col>
                            <ion-col size="auto" class="ion-no-margin ion-no-padding ion-align-self-center ion-text-center">
                              <ion-button fill="clear" shape="round" (click)="btn_cancelAction = true; confirmAlert('¿Seguro que quiere eliminar la cotización \' ' + data.arrendadora + ' \'?', 'danger', {tipo: 29, i: i});"
                                          [ngStyle]="{'display': (SR_solicitud.auto.a_inputs_cotiz === 1 || SR_solicitud.auto.display_btn_cancel_a === 1) ? 'none' : ''}"
                                          *ngIf="(colaborador_id === 1050) && ((SR_solicitud.solicitante.edo === 4) || (SR_solicitud.solicitante.edo === 6) || (SR_solicitud.solicitante.edo === 16))" [disabled]="btn_cancelAction">
                                <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                              </ion-button>
                            </ion-col>
                          </ion-row>
                        </ion-grid>
                      </div>

                      <div *ngIf="SR_solicitud.autos_cotizacion ? SR_solicitud.autos_cotizacion.length === 0 : true">
                        <ion-grid>
                          <ion-row>
                            <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                          </ion-row>
                        </ion-grid>
                      </div>
                    </ion-radio-group>
                  </div>
                </div>

                <div *ngSwitchCase="2" style="max-width: none;">
                  <!-- Boton de selección de cotización -->
                  <div  [ngStyle]="{'display': (SR_solicitud.auto.a_inputs_cotiz === 1 || SR_solicitud.auto.display_btn_cancel_a === 1) ? 'none' : ''}"
                        *ngIf="(colaborador_id === SR_solicitud.solicitante.lider_id && SR_solicitud.solicitante.edo === 8) ||
                                (colaborador_id === 1050 && SR_solicitud.solicitante.edo === 15)">
                    <ion-button class="class-div_aparecer_sm" expand="full" fill="solid" shape="round"
                                (click)="SR_selectCotizacion(3);" [disabled]=" SR_radio.auto === 0 || btn_cancelAction">
                      <ion-icon slot="icon-only" name="checkmark-outline"></ion-icon>
                      <ion-label><h3>Seleccionar cotización</h3></ion-label>
                    </ion-button>
                  </div>

                  <!-- Crear cotización en autos -->
                  <div  [ngStyle]="{'display': (SR_solicitud.auto.a_inputs_cotiz === 1 || SR_solicitud.auto.display_btn_cancel_a === 1) ? 'none' : ''}"
                        *ngIf="(colaborador_id === 1050) && ((SR_solicitud.solicitante.edo === 4) || (SR_solicitud.solicitante.edo === 6) || (SR_solicitud.solicitante.edo === 15) || (SR_solicitud.solicitante.edo === 16))">
                    <hr>
                    <br>

                    <form #cotizacion_autoForm="ngForm">
                      <ion-item class="ion-text-center">
                        <ion-label><h3><b>Agregar cotización</b></h3></ion-label>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Arrendadora</ion-label>
                        <ion-input id="a_arrendadora" name="a_arrendadora" [(ngModel)]="SR_cotAuto.a_arrendadora" #a_arrendadora="ngModel"
                                    type="text" placeholder="Nombre de la arrendadora" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Recepción</ion-label>
                        <ion-input id="a_recepcion" name="a_recepcion" [(ngModel)]="SR_cotAuto.a_recepcion" #a_recepcion="ngModel"
                                    type="date" [max]="SR_cotAuto.a_entrega" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Entrega</ion-label>
                        <ion-input id="a_entrega" name="a_entrega" [(ngModel)]="SR_cotAuto.a_entrega" #a_entrega="ngModel"
                                    type="date" [min]="SR_cotAuto.a_recepcion" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Precio</ion-label>
                        <ion-input id="a_precio" name="a_precio" [(ngModel)]="SR_cotAuto.a_precio" #a_precio="ngModel" type="number" required></ion-input>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Moneda</ion-label>
                        <ion-select id="a_moneda" name="a_moneda" interface="popover" [(ngModel)]="SR_cotAuto.a_moneda" #a_moneda="ngModel" required>
                          <ion-select-option value="" disabled>Seleccionar moneda</ion-select-option>
                          <ion-select-option value="MXN">MXN</ion-select-option>
                          <ion-select-option value="USD">USD</ion-select-option>
                        </ion-select>
                      </ion-item>
                      <ion-item>
                        <ion-label position="stacked">Comentario</ion-label>
                        <textarea class="class-textarea" id="a_comentario" name="a_comentario" placeholder="Opcional..."
                                  [(ngModel)]="SR_cotAuto.a_comentario" #a_comentario="ngModel"></textarea>
                      </ion-item>

                      <br>

                      <ion-button class="class-div_aparecer_sm" expand="full" fill="solid" shape="round"
                                  (click)="SR_agregarCotizacion(3);" [disabled]="!cotizacion_autoForm.valid || btn_cancelAction">
                        <ion-icon slot="icon-only" name="save"></ion-icon>
                        <ion-label>Guardar</ion-label>
                      </ion-button>
                    </form>
                  </div>
                </div>

              </div>

              <!-- Compras/Gastos -->
              <div class="class-cursor_notactive" *ngSwitchCase="3" [ngStyle]="{'display': SR_solicitud.errores.error_div_compras === 0 ? 'block' : 'none'}" style="max-width: none">
                <div class="ion-padding-top ion-padding-bottom"> <!-- COMPRAS/GASTOS -->
                  <ion-item>
                    <ion-label><h3>Gastos</h3></ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">

                    <!-- PRECIO COMPRA -->
                    <ion-row *ngFor="let data of SR_compras.precioCompra; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <ion-label>
                          <p class="ion-no-margin class-p_primary">{{data.concepto}}</p>
                          <p class="ion-no-margin">{{data.monto}} {{data.moneda}}</p>
                        </ion-label>
                      </ion-col>
                      <ion-col class="ion-align-self-center" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el gasto de \'' + data.concepto + '\'?', 'danger', {tipo_solicitud: 3, tipo: 4, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <!-- GASTOS EXTRAS -->
                    <ion-row *ngFor="let data of SR_compras.cargosExtras; let i = index;">
                      <ion-col class="ion-align-self-center ion-no-padding">
                        <ion-label>
                          <p class="ion-no-margin">
                            <span class="class-p_primary">{{data.concepto_extra}}</span> <br>
                            <small>({{data.motivo}}. {{data.comentario}})</small>
                          </p>
                          <p class="ion-no-margin">
                            <span>{{data.monto}} {{data.moneda}}</span>
                          </p>
                        </ion-label>
                      </ion-col>
                      <ion-col  class="ion-align-self-center" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el gasto extra de \'' + data.concepto_extra + '\'?', 'danger', {tipo_solicitud: 3, tipo: 2, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <!-- NO HAY INFORMACIÓN -->
                    <ion-row *ngIf="SR_compras.precioCompra ? SR_compras.precioCompra.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12">
                        <p>- No hay información -</p>
                      </ion-col>
                      <hr>
                    </ion-row>

                    <ion-row class="ion-padding">
                      <ion-col size="5"><p class="ion-no-margin" style="color: #eb445a;">Total:</p></ion-col>
                      <ion-col size="7"><p class="ion-no-margin ion-text-end" style="color: #eb445a;">{{SR_compras.total}}</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom"> <!-- COMENTARIOS -->
                  <ion-item>
                    <ion-label><h3>Comentarios</h3></ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngIf="SR_compras.viaticos_ingo === 1">
                      <ion-col class="ion-no-padding" size="12">
                        <p *ngIf="SR_compras.viaticos" style="font-weight: bold;">
                          El colaborador solicitante <span style="color: #eb445a;">debe cargarlo a viáticos</span>.
                        </p>
                        <p *ngIf="!SR_compras.viaticos" style="font-weight: bold;">
                          El colaborador solicitante <span style="color: #eb445a;">no debe cargarlo a viáticos</span>.
                        </p>
                      </ion-col>
                    </ion-row>
                    <ion-row *ngFor="let data of SR_compras.comentarios; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <li><span>{{data.comentario}}</span></li>
                      </ion-col>
                      <ion-col  class="ion-align-self-center ion-no-padding" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el comentario?', 'danger', {tipo_solicitud: 3, tipo: 3, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.comentarios ? SR_compras.comentarios.length === 0 : true">
                      <ion-col class="ion-text-center" size="12">
                        <p>- No hay información -</p>
                      </ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom"> <!-- ARCHIVOS ADJUNTOS -->
                  <ion-item>
                    <ion-label>
                      <h3>Archivos adjuntos</h3>
                      <p>El archivo se descargará al hacer click en su nombre.</p>
                    </ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngFor="let data of SR_compras.arcAdjuntos; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <li><a href="http://intranet.ecn.com.mx:8060/intranet/php/servicios_reservaciones/adjuntos/{{data.comentario}}" target="_blank">{{data.concepto}} {{data.ext_archivo}}</a></li>
                      </ion-col>
                      <ion-col  class="ion-align-self-center ion-no-padding" size="auto"
                                *ngIf="colaborador_id === 1050">
                        <ion-button fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar el archivo adjunto?', 'danger', {tipo_solicitud: 3, tipo: 1, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.arcAdjuntos ? SR_compras.arcAdjuntos.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div class="ion-padding-top ion-padding-bottom" *ngIf="colaborador_id === 1050"> <!-- INFO ASESOR -->
                  <ion-item>
                    <ion-label>
                      <h3>Tarifa pública y compras con días de anticipación.</h3>
                      <p><small>(Solo visible para el asesor de servicios y reservaciones)</small></p>
                    </ion-label>
                  </ion-item>
                  <ion-grid class="class-cursor_notactive class-div_box-border class-div_historial">
                    <ion-row *ngFor="let data of SR_compras.asesor; let i = index;">
                      <ion-col class="ion-align-self-center">
                        <ion-label>
                          <p *ngIf="data.tipo === 'PR'" class="ion-no-margin">
                            Pública: {{data.concepto}}
                          </p>
                          <p *ngIf="data.tipo === 'PC'" class="ion-no-margin">
                            Concepto: {{data.concepto}} (con días de anticipación de las políticas).
                          </p>
                          <p class="ion-no-margin">Precio: {{data.monto}} {{data.moneda}}</p>
                        </ion-label>
                      </ion-col>
                      <ion-col class="ion-align-self-center ion-no-padding" size="auto">
                        <ion-button expand="block" fill="clear" shape="round" [disabled]="btn_cancelAction"
                                    (click)="confirmAlert('¿Desea borrar la tarifa de \'' + data.concepto + '\'?', 'danger', {tipo_solicitud: 3, tipo: 5, i: i});">
                          <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
                        </ion-button>
                      </ion-col>
                      <hr>
                    </ion-row>
                    <ion-row *ngIf="SR_compras.asesor ? SR_compras.asesor.length === 0 : true">
                      <ion-col class="ion-no-padding ion-text-center" size="12"><p>- No hay información -</p></ion-col>
                    </ion-row>
                  </ion-grid>
                </div>
                <div> <!-- AGREGAR INFORMACIÓN -->
                  <div class="ion-padding" [ngStyle]="{'display': SR_solicitud.solicitante.div_compras_capturar === 0 ? 'block' : 'none'}"> <!-- AGREGAR  -->
                    <ion-item>
                      <ion-label><h3><b>Agregar información</b></h3></ion-label>
                    </ion-item>
                    <ion-item>
                      <ion-label position="stacked">Tipo de información</ion-label>
                      <ion-select id="a_agregarInformacion" name="a_agregarInformacion" interface="popover"
                                  [(ngModel)]="SR_agregarInformacion_compras" #a_agregarInformacion="ngModel" (ionChange)="CHANGE_extraCompra_info_resetData();">
                        <ion-select-option [value]="0">- Selecciona -</ion-select-option>
                        <ion-select-option [value]="1">Adjuntar archivo</ion-select-option>
                        <ion-select-option [value]="2">Agregar cargos extras</ion-select-option>
                        <ion-select-option [value]="3">Comentario</ion-select-option>
                        <ion-select-option [value]="4">Tarifa de compra</ion-select-option>
                        <ion-select-option [value]="5">Tarifa pública</ion-select-option>
                        <ion-select-option [value]="6">¿El colaborador debe cargarlo a viaticos?</ion-select-option>
                      </ion-select>
                    </ion-item>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 1"> <!-- AGREGAR ADJUNTOS -->
                      <form #auto_adjuntarArchivoForm="ngForm">
                        <ion-item>
                          <ion-label *ngIf="this.SR_extraCompra_info.AdjArchivo.archivo"><p>{{this.SR_extraCompra_info.AdjArchivo.titulo_archivo}}</p></ion-label>
                          <ion-label *ngIf="!this.SR_extraCompra_info.AdjArchivo.archivo"><p>Archivo no seleccionado...</p></ion-label>
                        </ion-item>
                        <ion-button expand="full" fill="clear" shape="round">
                          <input id="a_fileInfo" name="a_fileInfo" type="file" (change)="SR_changeFile($event);" accept=".pdf, .doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document" required>
                          <label id="a_labelSeleccionar" name="a_labelSeleccionar1" for="a_fileInfo" slot="end">
                            <ion-icon lazy="true" slot="start" name="document-outline"></ion-icon>
                          </label>
                          <label id="a_labelSeleccionar" name="a_labelSeleccionar2" for="a_fileInfo" slot="end">Seleccionar archivo</label>
                        </ion-button>
                        <br>
                        <ion-item counter="true">
                          <ion-label position="stacked">Describe brevemente el contenido como título del archivo</ion-label>
                          <textarea class="class-textarea" id="auto_txtTituloArchivo" name="auto_txtTituloArchivo" maxlength="500"
                                    [(ngModel)]="SR_extraCompra_info.AdjArchivo.descripcion" #auto_txtTituloArchivo="ngModel"
                                    placeholder="Ejemplo: XML de la factura, Itinerario del vuelo Y07, etc." required></textarea>
                        </ion-item>
                        <ion-button [disabled]="!auto_adjuntarArchivoForm.valid" (click)="SR_extraCompra(3, 1);" expand="full" fill="solid" shape="round">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 2"> <!-- AGREGAR COSTOS -->
                      <form #auto_cargosExtrasForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="a_agregarCosto_vinculalo" name="a_agregarCosto_vinculalo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.vinculo" #a_agregarCosto_vinculalo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Motivo del cambio</ion-label>
                          <ion-select id="a_agregarCosto_motivo" name="a_agregarCosto_motivo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.motivo" #a_agregarCosto_motivo="ngModel" required>
                            <ion-select-option value="1">Motivos de salud</ion-select-option>
                            <ion-select-option value="2">Cambios en la agenda del cliente</ion-select-option>
                            <ion-select-option value="4">Cambios en la agenda del proyecto</ion-select-option>
                            <ion-select-option value="3">Por petición del colaborador</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Concepto</ion-label>
                          <ion-select id="a_agregarCosto_concepto" name="a_agregarCosto_concepto" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.concepto_extra" #a_agregarCosto_concepto="ngModel" required>
                            <ion-select-option value="6">Ascenso de clase</ion-select-option>
                            <ion-select-option value="7">Asiento</ion-select-option>
                            <ion-select-option value="8">Cambio de asiento</ion-select-option>
                            <ion-select-option value="2">Cambio de fecha</ion-select-option>
                            <ion-select-option value="1">Cambio de horario</ion-select-option>
                            <ion-select-option value="3">Cambio de nombre</ion-select-option>
                            <ion-select-option value="5">Cambio de vuelo</ion-select-option>
                            <ion-select-option value="9">Cancelación</ion-select-option>
                            <ion-select-option value="4">Equipaje</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Costo</ion-label>
                          <ion-input id="a_agregarCosto_costo" name="a_agregarCosto_costo" type="number"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.monto" #a_agregarCosto_costo="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="a_agregarCosto_moneda" name="a_agregarCosto_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoExtra.moneda" #a_agregarCosto_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Comentario opcional</ion-label>
                          <textarea class="class-textarea" id="a_agregarCosto_comentario" name="a_agregarCosto_comentario"
                                    [(ngModel)]="SR_extraCompra_info.CargoExtra.comentario" #a_agregarCosto_comentario="ngModel"></textarea>
                        </ion-item>

                        <ion-button (click)="SR_extraCompra(3, 2);" expand="full" fill="solid" shape="round"
                                    [disabled]="!auto_cargosExtrasForm.valid">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 3"> <!-- AGREGAR COMENTARIO EXTRA -->
                      <form #auto_comentarioForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Comentario</ion-label>
                          <textarea class="class-textarea" id="a_agregarComentarioExtra_comentario" name="a_agregarComentarioExtra_comentario"
                                    [(ngModel)]="SR_extraCompra_info.Comentario.comentario" #a_agregarComentarioExtra_comentario="ngModel" required></textarea>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!auto_comentarioForm.valid"
                                    (click)="SR_extraCompra(3, 3);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 4"> <!-- AGREGAR PRECIO -->
                      <form #auto_precioCompraForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="a_agregarPrecio_vinculo" name="a_agregarPrecio_vinculo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.vinculo" #a_agregarPrecio_vinculo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Concepto</ion-label>
                          <textarea class="class-textarea" id="a_agregarPrecio_concepto" name="a_agregarPrecio_concepto" maxlength="500"
                                    [(ngModel)]="SR_extraCompra_info.TarifaCompra.concepto" #a_agregarPrecio_concepto="ngModel" required></textarea>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Costo</ion-label>
                          <ion-input id="a_agregarPrecio_costo" name="a_agregarPrecio_costo" type="number"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.monto" #a_agregarPrecio_costo="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="a_agregarPrecio_moneda" name="a_agregarPrecio_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaCompra.moneda" #a_agregarPrecio_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!auto_precioCompraForm.valid"
                                    (click)="SR_extraCompra(3, 4);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 5"> <!-- AGREGAR CONVENIO -->
                      <form #auto_precioPublicaForm="ngForm">
                        <ion-item>
                          <ion-label position="stacked">Vincúlalo a una cotización</ion-label>
                          <ion-select id="a_agregarConvenio_vinculo" name="a_agregarConvenio_vinculo" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.vinculo" #a_agregarConvenio_vinculo="ngModel" required>
                            <ion-select-option *ngFor="let data of SR_estructuras.selectAerolinea" [value]="data.id">{{data.origen}} - {{data.destino}} ({{data.aerolinea}}) {{data.precio_n}} {{data.moneda}}</ion-select-option>
                          </ion-select>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Agrega una pequeña descripción del concepto</ion-label>
                          <textarea class="class-textarea" id="a_agregarConvenio_concepto" name="a_agregarConvenio_concepto" maxlength="500"
                                    placeholder="Ejm.: Convenio preestablecido en Aerolinea bajo Condiciones para el vuelo #tal"
                                    [(ngModel)]="SR_extraCompra_info.TarifaPublica.concepto" #a_agregarConvenio_concepto="ngModel" required></textarea>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Tarifa pública</ion-label>
                          <ion-input id="a_agregarConvenio_tarifaPublica" name="a_agregarConvenio_tarifaPublica" type="number"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.monto" #a_agregarConvenio_tarifaPublica="ngModel" required></ion-input>
                        </ion-item>
                        <ion-item>
                          <ion-label position="stacked">Moneda</ion-label>
                          <ion-select id="a_agregarConvenio_moneda" name="a_agregarConvenio_moneda" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.TarifaPublica.moneda" #a_agregarConvenio_moneda="ngModel" required>
                            <ion-select-option value="MXN">MXN</ion-select-option>
                            <ion-select-option value="USD">USD</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!auto_precioPublicaForm.valid"
                                    (click)="SR_extraCompra(3, 5);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                    <div class="class-div_box" *ngIf="SR_agregarInformacion_compras === 6"> <!-- AGREGAR VIATICOS -->
                      <form #auto_viaticosForm="ngForm">
                        <ion-item>
                          <ion-label>
                            <p><small style="color:#eb445a">Solo puedes guardar la respuesta una vez</small></p>
                          </ion-label>
                        </ion-item>

                        <ion-item>
                          <ion-label position="stacked">¿El colaborador debe cargarlo a viaticos?</ion-label>
                          <ion-select id="a_agregarViaticos_viaticos" name="a_agregarViaticos_viaticos" placeholder="Selecciona" interface="popover"
                                      [(ngModel)]="SR_extraCompra_info.CargoViaticos.viaticos" #a_agregarViaticos_viaticos="ngModel" required>
                            <ion-select-option value="1">Si</ion-select-option>
                            <ion-select-option value="0">No</ion-select-option>
                          </ion-select>
                        </ion-item>

                        <ion-button expand="full" fill="solid" shape="round" [disabled]="!auto_viaticosForm.valid"
                                    (click)="SR_extraCompra(3, 6);">
                          <ion-icon slot="start" name="save-outline"></ion-icon>
                          Guardar
                        </ion-button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>

            </div>

          </div>
        </ion-col>
      </ion-row>
    </ion-grid>


  </div>

</ion-content>

<!-- ***** MODALES ***** -->
<!-- CANCELAR SOLICITUD -->
<ion-modal #SR_Modal_1001 [isOpen]="SR_modalBool.m_1001" width="auto">
  <form #m1001_Form="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Cancelar solicitud</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
          <ion-item>
            <ion-label position="stacked"><h3><b>Commenta la razón:</b></h3></ion-label>
            <textarea id="m1001_comentario" name="m1001_comentario" class="class-textarea"
                      [(ngModel)]="SR_modalData.m_1001.comentario" #m1001_comentario="ngModel" required>
            </textarea>
          </ion-item>
      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round" color="light"
                      (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cerrar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round" color="primary"
                      (click)="SR_modals(1001,null);" [disabled]="!m1001_Form.valid">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->
<!-- CAMBIO DE NOMBRE -->
<ion-modal #SR_Modal_1002 [isOpen]="SR_modalBool.m_1002" width="auto">
  <form #m_cancelarServicioForm="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Cambio de nombre</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item>
          <ion-label position="stacked">Selecciona al nuevo "solicitante":</ion-label>
          <ion-select id="m1002_solicitante" name="m1002_solicitante" interface="popover" placeholder="Selecciona"
                      [(ngModel)]="SR_modalData.m_1002.nuevo_solic" #m1002_solicitante="ngModel" required>
            <ion-select-option *ngFor="let data of SR_estructuras.selectSolicitantes; let i = index;" [value]="data.id">({{data.n_colaborador}}) - {{data.nomCompleto}}</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Commenta la razón:</b></h3></ion-label>
          <textarea id="m1002_commenta" name="m1002_commenta" class="class-textarea"
                    [(ngModel)]="SR_modalData.m_1002.comentario" #m1002_commenta="ngModel" required>
          </textarea>
        </ion-item>

        <div class="ion-padding class-text_gray"><small>El cambio aplicará para todos los servicios y puede generar un costo extra.</small></div>

      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round" color="light"
                      (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cerrar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round" color="primary"
                      (click)="SR_modals(1002,null);" [disabled]="!m_cancelarServicioForm.valid">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Enviar a aprobar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->

<!-- AGREGAR ENCUESTA -->
<ion-modal #SR_Modal_encuesta [isOpen]="SR_modalBool.v_encuesta" width="auto" *ngIf="SR_solicitud.encuesta === 0 || true">
  <form #m_encuestaForm="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Califica servicio</ion-title>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
          <br>
          <br>
          <fieldset class="class-rating">
            <input type="radio" id="encuesta_r5" name="estrellas" value="5"
                    [(ngModel)]="SR_modalData.v_encuesta.calificacion" #estrellas="ngModel"
                    [checked]="SR_modalData.v_encuesta.calificacion === 5" required>
            <label id="encuesta_label" for="encuesta_r5"><ion-icon slot="icon-only" name="star"></ion-icon></label>
            <input type="radio" id="encuesta_r4" name="estrellas" value="4"
                    [(ngModel)]="SR_modalData.v_encuesta.calificacion" #estrellas="ngModel"
                    [checked]="SR_modalData.v_encuesta.calificacion === 4" required>
            <label id="encuesta_label" for="encuesta_r4"><ion-icon slot="icon-only" name="star"></ion-icon></label>
            <input type="radio" id="encuesta_r3" name="estrellas" value="3"
                    [(ngModel)]="SR_modalData.v_encuesta.calificacion" #estrellas="ngModel"
                    [checked]="SR_modalData.v_encuesta.calificacion === 3" required>
            <label id="encuesta_label" for="encuesta_r3"><ion-icon slot="icon-only" name="star"></ion-icon></label>
            <input type="radio" id="encuesta_r2" name="estrellas" value="2"
                    [(ngModel)]="SR_modalData.v_encuesta.calificacion" #estrellas="ngModel"
                    [checked]="SR_modalData.v_encuesta.calificacion === 2" required>
            <label id="encuesta_label" for="encuesta_r2"><ion-icon slot="icon-only" name="star"></ion-icon></label>
            <input type="radio" id="encuesta_r1" name="estrellas" value="1"
                    [(ngModel)]="SR_modalData.v_encuesta.calificacion" #estrellas="ngModel"
                    [checked]="SR_modalData.v_encuesta.calificacion === 1" required>
            <label id="encuesta_label" for="encuesta_r1"><ion-icon slot="icon-only" name="star"></ion-icon></label>
          </fieldset>
          <br>
          <br>
          <hr>
          <ion-item>
            <ion-label position="stacked"><h3><b>Comentario (opcional):</b></h3></ion-label>
            <textarea id="encuesta_comentario" name="encuesta_comentario" rows="5"
                          [(ngModel)]="SR_modalData.v_encuesta.comentario" #encuesta_comentario="ngModel"></textarea>
          </ion-item>
      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round"
                      color="primary" (click)="SR_modals(10,null);" [disabled]="!m_encuestaForm.valid || btn_cancelAction">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->
<!-- EDITAR SERVICIO: VUELO | HOSPEDAJE | AUTO -->
<ion-modal #SR_Modal_editarServicio [isOpen]="SR_modalBool.editarServicio" width="auto">
  <form #m_editarServicioForm="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title *ngIf="SR_modalData.editarServicio.tipo_sol === 1">Editar vuelo</ion-title>
          <ion-title *ngIf="SR_modalData.editarServicio.tipo_sol === 2">Editar hospedaje</ion-title>
          <ion-title *ngIf="SR_modalData.editarServicio.tipo_sol === 3">Editar renta de auto</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content class="ion-padding" *ngIf="SR_modalData.editarServicio.tipo_sol === 1">
        <ion-item>
          <ion-label position="stacked"><h3>Tipo de vuelo</h3></ion-label>
          <ion-select id="mV_editarServicio_tipoVuelo" name="mV_editarServicio_tipoVuelo" interface="popover" placeholder="Selecciona"
                      [(ngModel)]="SR_modalData.editarServicio.v.tipo" #mV_editarServicio_tipoVuelo="ngModel" required>
            <ion-select-option value=1>Sencillo</ion-select-option>
            <ion-select-option value=2>Redondo</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3>¿Es un viaje internacional?</h3></ion-label>
          <ion-select id="mV_editarServicio_viajeInternacional" name="mV_editarServicio_viajeInternacional" interface="popover" placeholder="Selecciona"
                      [(ngModel)]="SR_modalData.editarServicio.v.internacional" #mV_editarServicio_viajeInternacional="ngModel" required>
            <ion-select-option value=0>No</ion-select-option>
            <ion-select-option value=1>Si</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Origen</b></h3></ion-label>
          <ion-select id="mV_editarVuelo_origen" name="mV_editarVuelo_origen" interface="popover" placeholder="Seleccionar..."
                      [(ngModel)]="SR_modalData.editarServicio.v.origen" #mV_editarVuelo_origen="ngModel" required>
            <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Destino</b></h3></ion-label>
          <ion-select id="mV_editarVuelo_destino" name="mV_editarVuelo_destino" interface="popover" placeholder="Seleccionar..."
                      [(ngModel)]="SR_modalData.editarServicio.v.destino" #mV_editarVuelo_destino="ngModel" required>
            <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
          <ion-input id="mV_editarVuelo_fSalida" name="mV_editarVuelo_fSalida" type="date" [max]="SR_modalData.editarServicio.v.f_regreso"
                      [(ngModel)]="SR_modalData.editarServicio.v.f_salida" #mV_editarVuelo_fSalida="ngModel" required></ion-input>
        </ion-item>

        <div><!-- SALIDA -->
          <ion-item>
            <ion-label position="stacked"><h3><b>Hora salida (preferente)</b></h3></ion-label>
            <ion-select id="mV_editarVuelo_hSalida_desc" name="mV_editarVuelo_hSalida_desc" interface="popover" placeholder="Selecciona"
                        [(ngModel)]="SR_modalData.editarServicio.v.h_salida_desc" #mV_editarVuelo_hSalida_desc="ngModel" required>
              <ion-select-option value="Alrededor de las">Alrededor de las </ion-select-option>
              <ion-select-option value="Antes de las">Antes de las </ion-select-option>
              <ion-select-option value="Después de las">Después de las </ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-select id="mV_editarVuelo_hSalida_num" name="mV_editarVuelo_hSalida_num" interface="popover" placeholder="Selecciona"
                        [(ngModel)]="SR_modalData.editarServicio.v.h_salida_num" #mV_editarVuelo_hSalida_num="ngModel" required>
              <ion-select-option value="5:00 A.M.">5:00 A.M.</ion-select-option>
              <ion-select-option value="6:00 A.M.">6:00 A.M.</ion-select-option>
              <ion-select-option value="7:00 A.M.">7:00 A.M.</ion-select-option>
              <ion-select-option value="8:00 A.M.">8:00 A.M.</ion-select-option>
              <ion-select-option value="9:00 A.M.">9:00 A.M.</ion-select-option>
              <ion-select-option value="10:00 A.M.">10:00 A.M.</ion-select-option>
              <ion-select-option value="11:00 A.M.">11:00 A.M.</ion-select-option>
              <ion-select-option value="12:00 P.M.">12:00 P.M.</ion-select-option>
              <ion-select-option value="1:00 P.M.">1:00 P.M.</ion-select-option>
              <ion-select-option value="2:00 P.M.">2:00 P.M.</ion-select-option>
              <ion-select-option value="3:00 P.M.">3:00 P.M.</ion-select-option>
              <ion-select-option value="4:00 P.M.">4:00 P.M.</ion-select-option>
              <ion-select-option value="5:00 P.M.">5:00 P.M.</ion-select-option>
              <ion-select-option value="6:00 P.M.">6:00 P.M.</ion-select-option>
              <ion-select-option value="7:00 P.M.">7:00 P.M.</ion-select-option>
              <ion-select-option value="8:00 P.M.">8:00 P.M.</ion-select-option>
              <ion-select-option value="9:00 P.M.">9:00 P.M.</ion-select-option>
              <ion-select-option value="10:00 P.M.">10:00 P.M.</ion-select-option>
              <ion-select-option value="11:00 P.M.">11:00 P.M.</ion-select-option>
            </ion-select>
          </ion-item>
        </div><!-- END SALIDA -->

        <ion-item>
          <ion-label position="stacked"><h3><b>Regreso</b></h3></ion-label>
          <ion-input id="mV_editarVuelo_fRegreso" name="mV_editarVuelo_fRegreso" type="date" [min]="SR_modalData.editarServicio.v.f_salida"
                      [(ngModel)]="SR_modalData.editarServicio.v.f_regreso" #mV_editarVuelo_fRegreso="ngModel" required
                      [disabled]="SR_modalData.editarServicio.v.tipo === 1"></ion-input>
        </ion-item>

        <div><!-- REGRESO -->
          <ion-item>
            <ion-label position="stacked"><h3><b>Hora de regreso (preferente)</b></h3></ion-label>
            <ion-select id="mV_editarVuelo_hRegreso_desc" name="mV_editarVuelo_hRegreso_desc" interface="popover" placeholder="Selecciona"
                        [(ngModel)]="SR_modalData.editarServicio.v.h_regreso_desc" #mV_editarVuelo_hRegreso_desc="ngModel" required>
              <ion-select-option value="Alrededor de las">Alrededor de las </ion-select-option>
              <ion-select-option value="Antes de las">Antes de las </ion-select-option>
              <ion-select-option value="Después de las">Después de las </ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-select id="mV_editarVuelo_hRegreso_num" name="mV_editarVuelo_hRegreso_num" interface="popover" placeholder="Selecciona"
                        [(ngModel)]="SR_modalData.editarServicio.v.h_regreso_num" #mV_editarVuelo_hRegreso_num="ngModel" required>
              <ion-select-option value="5:00 A.M.">5:00 A.M.</ion-select-option>
              <ion-select-option value="6:00 A.M.">6:00 A.M.</ion-select-option>
              <ion-select-option value="7:00 A.M.">7:00 A.M.</ion-select-option>
              <ion-select-option value="8:00 A.M.">8:00 A.M.</ion-select-option>
              <ion-select-option value="9:00 A.M.">9:00 A.M.</ion-select-option>
              <ion-select-option value="10:00 A.M.">10:00 A.M.</ion-select-option>
              <ion-select-option value="11:00 A.M.">11:00 A.M.</ion-select-option>
              <ion-select-option value="12:00 P.M.">12:00 P.M.</ion-select-option>
              <ion-select-option value="1:00 P.M.">1:00 P.M.</ion-select-option>
              <ion-select-option value="2:00 P.M.">2:00 P.M.</ion-select-option>
              <ion-select-option value="3:00 P.M.">3:00 P.M.</ion-select-option>
              <ion-select-option value="4:00 P.M.">4:00 P.M.</ion-select-option>
              <ion-select-option value="5:00 P.M.">5:00 P.M.</ion-select-option>
              <ion-select-option value="6:00 P.M.">6:00 P.M.</ion-select-option>
              <ion-select-option value="7:00 P.M.">7:00 P.M.</ion-select-option>
              <ion-select-option value="8:00 P.M.">8:00 P.M.</ion-select-option>
              <ion-select-option value="9:00 P.M.">9:00 P.M.</ion-select-option>
              <ion-select-option value="10:00 P.M.">10:00 P.M.</ion-select-option>
              <ion-select-option value="11:00 P.M.">11:00 P.M.</ion-select-option>
            </ion-select>
          </ion-item>
        </div><!-- END REGRESO -->

      </ion-content>

      <ion-content class="ion-padding" *ngIf="SR_modalData.editarServicio.tipo_sol === 2">

        <ion-item>
          <ion-label position="stacked"><h3><b>Tipo de hospedaje</b></h3></ion-label>
          <ion-select id="mH_editarServicio_tipoHospedaje" name="mH_editarServicio_tipoHospedaje" interface="popover" placeholder="Seleccionar..."
                      [(ngModel)]="SR_modalData.editarServicio.h.tipo" #mH_editarServicio_tipoHospedaje="ngModel" required>
            <ion-select-option value="1">Individual</ion-select-option>
            <ion-select-option value="2">Doble</ion-select-option>
            <ion-select-option value="3">Triple</ion-select-option>
            <ion-select-option value="4">Cuádruple</ion-select-option>
            <ion-select-option value="5">Casa ECN</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Ciudad de hospedaje</b></h3></ion-label>
          <ion-select id="mH_editarServicio_ciudadHospedaje" name="mH_editarServicio_ciudadHospedaje" interface="popover" placeholder="Seleccionar..."
                      [(ngModel)]="SR_modalData.editarServicio.h.ciudad" #mH_editarServicio_ciudadHospedaje="ngModel" required>
            <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id" selected>{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>¿Es un hospedaje internacional?</b></h3></ion-label>
          <ion-select id="mH_editarServicio_tipoInternacional" name="mH_editarServicio_tipoInternacional" interface="popover" placeholder="Seleccionar..."
                      [(ngModel)]="SR_modalData.editarServicio.h.internacional" #mH_editarServicio_tipoInternacional="ngModel" required>
            <ion-select-option value="0">No</ion-select-option>
            <ion-select-option value="1">Si</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Entrada</b></h3></ion-label>
          <ion-input id="mH_editarServicio_entrada" name="mH_editarServicio_entrada" type="date" [max]="SR_modalData.editarServicio.h.salida"
                    [(ngModel)]="SR_modalData.editarServicio.h.entrada" #mH_editarServicio_entrada="ngModel" required></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
          <ion-input id="mH_editarServicio_salida" name="mH_editarServicio_salida" type="date" [min]="SR_modalData.editarServicio.h.entrada"
                    [(ngModel)]="SR_modalData.editarServicio.h.salida" #mH_editarServicio_salida="ngModel" required></ion-input>
        </ion-item>

      </ion-content>

      <ion-content class="ion-padding" *ngIf="SR_modalData.editarServicio.tipo_sol === 3">

        <ion-item>
          <ion-label position="stacked"><h3><b>Tipo de auto</b></h3></ion-label>
          <ion-select id="mA_editarServicio_tipoAuto" name="mA_editarServicio_tipoAuto" interface="popover" placeholder="Seleccionar..."
                      [(ngModel)]="SR_modalData.editarServicio.a.tipo" #mA_editarServicio_tipoAuto="ngModel" required>
            <ion-select-option value="1">Camioneta</ion-select-option>
            <ion-select-option value="2">Compacto</ion-select-option>
            <ion-select-option value="3">Pick up 4x4</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Lugar de entrega</b></h3></ion-label>
          <ion-select id="mA_editarServicio_lugarEntrega" name="mA_editarServicio_lugarEntrega" interface="popover" placeholder="Seleccionar..."
                      [(ngModel)]="SR_modalData.editarServicio.a.lugar" #mA_editarServicio_lugarEntrega="ngModel" required>
            <ion-select-option value="1">Aeropuerto</ion-select-option>
            <ion-select-option value="2">Agencia de renta</ion-select-option>
            <ion-select-option value="3">Central autobús</ion-select-option>
            <ion-select-option value="4">Hotel</ion-select-option>
            <ion-select-option value="5">Oficina</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Inicio</b></h3></ion-label>
          <ion-input id="mA_editarServicio_entrada" name="mA_editarServicio_entrada" type="date" [max]="SR_modalData.editarServicio.a.f_salida"
                    [(ngModel)]="SR_modalData.editarServicio.a.f_entrada" #mA_editarServicio_entrada="ngModel" required></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Fin</b></h3></ion-label>
          <ion-input id="mA_editarServicio_salida" name="mA_editarServicio_salida" type="date" [min]="SR_modalData.editarServicio.a.f_entrada"
                    [(ngModel)]="SR_modalData.editarServicio.a.f_salida" #mA_editarServicio_salida="ngModel" required></ion-input>
        </ion-item>

      </ion-content>

      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round" color="light"
                      (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cerrar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round" [disabled]="!m_editarServicioForm.valid"
                      (click)="SR_ACCIONES_versionServicio()" color="primary"
                      *ngIf="SR_solicitud.solicitante.edo === 3 || SR_solicitud.solicitante.edo === 7">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar cambios
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round" [disabled]="!m_editarServicioForm.valid"
                      (click)="SR_ACCIONES_editarServicio();" color="primary"
                      *ngIf="SR_solicitud.solicitante.edo !== 3 && SR_solicitud.solicitante.edo !== 7">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar cambios
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->
<!-- RECOTIZAR VUELO -->
<ion-modal #SR_Modal_recotizar [isOpen]="SR_modalBool.recotizar" width="auto">
  <form #m_recotizarForm="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title *ngIf="SR_modalData.Recotizar$Cancelar.tipo_sol === 1">Recotizar vuelo</ion-title>
          <ion-title *ngIf="SR_modalData.Recotizar$Cancelar.tipo_sol === 2">Recotizar hospedaje</ion-title>
          <ion-title *ngIf="SR_modalData.Recotizar$Cancelar.tipo_sol === 3">Recotizar auto</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
          <ion-item>
            <ion-label position="stacked"><h3><b>Commenta la razón:</b></h3></ion-label>
            <textarea id="m_recotizar_comentaRazon" name="m_recotizar_comentaRazon" class="class-textarea"
                      [(ngModel)]="SR_modalData.Recotizar$Cancelar.comentario" #m_recotizar_comentaRazon="ngModel" required>
            </textarea>
          </ion-item>
      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round" color="light"
                      (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cerrar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round" color="primary"
                      (click)="SR_ACCIONES_recotizar();" [disabled]="!m_recotizarForm.valid">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->
<!-- CANCELAR SERVICIO: VUELO | HOSPEDAJE | AUTOS -->
<ion-modal #SR_Modal_cancelarServicio [isOpen]="SR_modalBool.cancelarServicio" width="auto">
  <form #m_cancelarServicioForm="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title *ngIf="SR_modalData.Recotizar$Cancelar.tipo_sol === 1">Cancelar servicio de vuelo</ion-title>
          <ion-title *ngIf="SR_modalData.Recotizar$Cancelar.tipo_sol === 2">Cancelar servicio de hospedaje</ion-title>
          <ion-title *ngIf="SR_modalData.Recotizar$Cancelar.tipo_sol === 3">Cancelar servicio de auto</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
          <ion-item>
            <ion-label position="stacked"><h3><b>Commenta la razón:</b></h3></ion-label>
            <textarea id="m_cancelarServicio" name="m_cancelarServicio" class="class-textarea"
                      [(ngModel)]="SR_modalData.Recotizar$Cancelar.comentario" #m_cancelarServicio="ngModel" required>
            </textarea>
          </ion-item>
      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round" color="light"
                      (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cerrar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round" color="primary"
                      (click)="SR_ACCIONES_cancelarServicio();" [disabled]="!m_cancelarServicioForm.valid">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar y cancelar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->
<!-- REAGENDAR SERVICIO: VUELO | HOSPEDAJE -->
<ion-modal #SR_Modal_reagendar [isOpen]="SR_modalBool.reagendar" width="auto">
  <form #m_reagendarForm="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title *ngIf="SR_modalData.reagendar.tipo_sol === 1">Reagendar vuelo</ion-title>
          <ion-title *ngIf="SR_modalData.reagendar.tipo_sol === 2">Reagendar hospedaje</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">

        <div *ngIf="SR_modalData.reagendar.tipo_sol === 1">
          <ion-item>
            <ion-label position="stacked"><h3>¿Por qué necesitas reagendarlos?</h3></ion-label>
            <textarea id="m_reagendarV_reagendar" name="m_reagendarV_reagendar" class="class-textarea" rows="4"
                      [(ngModel)]="SR_modalData.reagendar.v.comentario" #m_reagendarV_reagendar="ngModel" required>
            </textarea>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Tipo de vuelo</h3></ion-label>
            <ion-select id="m_reagendarV_tipoVuelo" name="m_reagendarV_tipoVuelo" interface="popover" placeholder="Selecciona"
                        [(ngModel)]="SR_modalData.reagendar.v.tipo" #m_reagendarV_tipoVuelo="ngModel" required>
              <ion-select-option value=1>Sencillo</ion-select-option>
              <ion-select-option value=2>Redondo</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>¿Es un viaje internacional?</h3></ion-label>
            <ion-select id="m_reagendarV_viajeInternacional" name="m_reagendarV_viajeInternacional" interface="popover" placeholder="Selecciona"
                        [(ngModel)]="SR_modalData.reagendar.v.internacional" #m_reagendarV_viajeInternacional="ngModel" required>
              <ion-select-option value=0>No</ion-select-option>
              <ion-select-option value=1>Si</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Origen</b></h3></ion-label>
            <ion-select id="m_reagendarV_origen" name="m_reagendarV_origen" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.reagendar.v.origen" #m_reagendarV_origen="ngModel" required>
              <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Destino</b></h3></ion-label>
            <ion-select id="m_reagendarV_destino" name="m_reagendarV_destino" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.reagendar.v.destino" #m_reagendarV_destino="ngModel" required>
              <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
            <ion-input id="m_reagendarV_fSalida" name="m_reagendarV_fSalida" type="date" [max]="SR_modalData.reagendar.v.f_regreso"
                        [(ngModel)]="SR_modalData.reagendar.v.f_salida" #m_reagendarV_fSalida="ngModel" required></ion-input>
          </ion-item>

          <div><!-- SALIDA -->
            <ion-item>
              <ion-label position="stacked"><h3><b>Hora salida (preferente)</b></h3></ion-label>
              <ion-select id="m_reagendarV_hSalida_desc" name="m_reagendarV_hSalida_desc" interface="popover" placeholder="Selecciona"
                          [(ngModel)]="SR_modalData.reagendar.v.h_salida_desc" #m_reagendarV_hSalida_desc="ngModel">
                <ion-select-option value="Alrededor de las">Alrededor de las </ion-select-option>
                <ion-select-option value="Antes de las">Antes de las </ion-select-option>
                <ion-select-option value="Después de las">Después de las </ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-select id="m_reagendarV_hSalida_num" name="m_reagendarV_hSalida_num" interface="popover" placeholder="Selecciona"
                          [(ngModel)]="SR_modalData.reagendar.v.h_salida_num" #m_reagendarV_hSalida_num="ngModel" required>
                <ion-select-option value="5:00 A.M.">5:00 A.M.</ion-select-option>
                <ion-select-option value="6:00 A.M.">6:00 A.M.</ion-select-option>
                <ion-select-option value="7:00 A.M.">7:00 A.M.</ion-select-option>
                <ion-select-option value="8:00 A.M.">8:00 A.M.</ion-select-option>
                <ion-select-option value="9:00 A.M.">9:00 A.M.</ion-select-option>
                <ion-select-option value="10:00 A.M.">10:00 A.M.</ion-select-option>
                <ion-select-option value="11:00 A.M.">11:00 A.M.</ion-select-option>
                <ion-select-option value="12:00 P.M.">12:00 P.M.</ion-select-option>
                <ion-select-option value="1:00 P.M.">1:00 P.M.</ion-select-option>
                <ion-select-option value="2:00 P.M.">2:00 P.M.</ion-select-option>
                <ion-select-option value="3:00 P.M.">3:00 P.M.</ion-select-option>
                <ion-select-option value="4:00 P.M.">4:00 P.M.</ion-select-option>
                <ion-select-option value="5:00 P.M.">5:00 P.M.</ion-select-option>
                <ion-select-option value="6:00 P.M.">6:00 P.M.</ion-select-option>
                <ion-select-option value="7:00 P.M.">7:00 P.M.</ion-select-option>
                <ion-select-option value="8:00 P.M.">8:00 P.M.</ion-select-option>
                <ion-select-option value="9:00 P.M.">9:00 P.M.</ion-select-option>
                <ion-select-option value="10:00 P.M.">10:00 P.M.</ion-select-option>
                <ion-select-option value="11:00 P.M.">11:00 P.M.</ion-select-option>
              </ion-select>
            </ion-item>
          </div><!-- END SALIDA -->

          <ion-item>
            <ion-label position="stacked"><h3><b>Regreso</b></h3></ion-label>
            <ion-input id="m_reagendarV_fRegreso" name="m_reagendarV_fRegreso" type="date" [min]="SR_modalData.reagendar.v.f_salida"
                        [(ngModel)]="SR_modalData.reagendar.v.f_regreso" #m_reagendarV_fRegreso="ngModel" required></ion-input>
          </ion-item>

          <div><!-- REGRESO -->
            <ion-item>
              <ion-label position="stacked"><h3><b>Hora de regreso (preferente)</b></h3></ion-label>
              <ion-select id="m_reagendarV_hRegreso_desc" name="m_reagendarV_hRegreso_desc" interface="popover" placeholder="Selecciona"
                          [(ngModel)]="SR_modalData.reagendar.v.h_regreso_desc" #m_reagendarV_hRegreso_desc="ngModel">
                <ion-select-option value="Alrededor de las">Alrededor de las </ion-select-option>
                <ion-select-option value="Antes de las">Antes de las </ion-select-option>
                <ion-select-option value="Después de las">Después de las </ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-select id="m_reagendarV_hRegreso_num" name="m_reagendarV_hRegreso_num" interface="popover" placeholder="Selecciona"
                          [(ngModel)]="SR_modalData.reagendar.v.h_regreso_num" #m_reagendarV_hRegreso_num="ngModel" required>
                <ion-select-option value="5:00 A.M.">5:00 A.M.</ion-select-option>
                <ion-select-option value="6:00 A.M.">6:00 A.M.</ion-select-option>
                <ion-select-option value="7:00 A.M.">7:00 A.M.</ion-select-option>
                <ion-select-option value="8:00 A.M.">8:00 A.M.</ion-select-option>
                <ion-select-option value="9:00 A.M.">9:00 A.M.</ion-select-option>
                <ion-select-option value="10:00 A.M.">10:00 A.M.</ion-select-option>
                <ion-select-option value="11:00 A.M.">11:00 A.M.</ion-select-option>
                <ion-select-option value="12:00 P.M.">12:00 P.M.</ion-select-option>
                <ion-select-option value="1:00 P.M.">1:00 P.M.</ion-select-option>
                <ion-select-option value="2:00 P.M.">2:00 P.M.</ion-select-option>
                <ion-select-option value="3:00 P.M.">3:00 P.M.</ion-select-option>
                <ion-select-option value="4:00 P.M.">4:00 P.M.</ion-select-option>
                <ion-select-option value="5:00 P.M.">5:00 P.M.</ion-select-option>
                <ion-select-option value="6:00 P.M.">6:00 P.M.</ion-select-option>
                <ion-select-option value="7:00 P.M.">7:00 P.M.</ion-select-option>
                <ion-select-option value="8:00 P.M.">8:00 P.M.</ion-select-option>
                <ion-select-option value="9:00 P.M.">9:00 P.M.</ion-select-option>
                <ion-select-option value="10:00 P.M.">10:00 P.M.</ion-select-option>
                <ion-select-option value="11:00 P.M.">11:00 P.M.</ion-select-option>
              </ion-select>
            </ion-item>
          </div><!-- END REGRESO -->
        </div>

        <div *ngIf="SR_modalData.reagendar.tipo_sol === 2">
          <ion-item>
            <ion-label position="stacked"><h3>¿Por qué necesitas reagendarlos?</h3></ion-label>
            <textarea id="m_reagendarH_reagendar" name="m_reagendarH_reagendar" class="class-textarea" rows="4"
                      [(ngModel)]="SR_modalData.reagendar.h.comentario" #m_reagendarH_reagendar="ngModel" required>
            </textarea>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Tipo de hospedaje</h3></ion-label>
            <ion-select id="m_reagendarH_tipoHospedaje" name="m_reagendarH_tipoHospedaje" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.reagendar.h.tipo" #m_reagendarH_tipoHospedaje="ngModel" required>
              <ion-select-option value="1">Individual</ion-select-option>
              <ion-select-option value="2">Doble</ion-select-option>
              <ion-select-option value="3">Triple</ion-select-option>
              <ion-select-option value="4">Cuádruple</ion-select-option>
              <ion-select-option value="5">Casa ECN</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Ciudad de hospedaje</h3></ion-label>
            <ion-select id="m_reagendarH_ciudad" name="m_reagendarH_ciudad" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.reagendar.h.ciudad" #m_reagendarH_ciudad="ngModel" required>
              <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>¿Es un viaje internacional?</h3></ion-label>
            <ion-select id="m_reagendarH_viajeInternacional" name="m_reagendarH_viajeInternacional" interface="popover" placeholder="Selecciona"
                        [(ngModel)]="SR_modalData.reagendar.h.internacional" #m_reagendarH_viajeInternacional="ngModel" required>
              <ion-select-option value=0>No</ion-select-option>
              <ion-select-option value=1>Si</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3>Entrada</h3></ion-label>
            <ion-input id="m_reagendarH_fEntrada" name="m_reagendarH_fEntrada" type="date" [max]="SR_modalData.reagendar.h.salida"
                        [(ngModel)]="SR_modalData.reagendar.h.entrada" #m_reagendarH_fEntrada="ngModel" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="stacked"><h3>Salida</h3></ion-label>
            <ion-input id="m_reagendarH_fSalida" name="m_reagendarH_fSalida" type="date" [min]="SR_modalData.reagendar.h.entrada"
                        [(ngModel)]="SR_modalData.reagendar.h.salida" #m_reagendarH_fSalida="ngModel" required></ion-input>
          </ion-item>

          <ion-item>
            <ion-label color="success"><h3>El cambio puede generar un costo extra.</h3></ion-label>
          </ion-item>
        </div>

      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round" color="light"
                      (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cerrar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round" [disabled]="!m_reagendarForm.valid"
                      (click)="SR_ACCIONES_reagendar();" color="primary">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar cambios
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->

<!-- ***** VUELOS ***** -->

<!-- AGREGAR ESCALA -->
<ion-modal #SR_Modal_escalaVuelos [isOpen]="SR_modalBool.v_escala" width="auto">
  <form #escalas_guardarForm="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Escalas</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <div>
          <ion-grid class="class-div_box" style="overflow: auto;"
                    [style]="{'max-height': colaborador_id === 1050 ? '200px' : 'auto'}">
            <ion-row>
              <ion-col size="12">
                <p class="ion-no-margin">
                  <small>{{SR_listEscalas.info.f_salida_n}}</small> <br>
                  <span class="class-p_primary">{{SR_listEscalas.info.origen}} {{SR_listEscalas.info.h_salida}}</span>
                </p>
                <hr>
              </ion-col>
            </ion-row>
            <ion-row *ngFor="let data of SR_listEscalas.detalles; let i = index;">
              <ion-col size="12">
                <p class="ion-no-margin">
                  <span>{{data.info_ciudad}}</span> <br>
                  <small>{{data.info_hora}} a {{data.info_hora2}}</small>
                </p>
                <hr>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="12">
                <p class="ion-no-margin">
                  <small>{{SR_listEscalas.info.f_llegada_n}}</small> <br>
                  <span class="class-p_primary">{{SR_listEscalas.info.destino}} {{SR_listEscalas.info.h_llegada}}</span>
                </p>
                <hr>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>

        <br>
        <hr>
        <br>

        <div *ngIf="colaborador_id === 1050">
          <ion-item>
            <ion-label position="stacked"><h3><b>Lugar:</b></h3></ion-label>
            <ion-select id="escala_lugar" name="escala_lugar" interface="popover"  placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.v_escala.lugar" #escala_lugar="ngModel" required>
              <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label><h3><b>Inicio hora:</b></h3></ion-label>
            <ion-input class="ion-text-end" id="escala_h_inicio" name="escala_h_inicio" type="text" placeholder="06:00" pattern="([01]?[0-9]|2[0-3]):[0-5]{1}[0-9]{1}"
                        [(ngModel)]="SR_modalData.v_escala.h_inicio" #escala_h_inicio="ngModel" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label><h3><b>Fin hora:</b></h3></ion-label>
            <ion-input class="ion-text-end" id="escala_h_fin" name="escala_h_fin" type="text" placeholder="18:00" pattern="([01]?[0-9]|2[0-3]):[0-5]{1}[0-9]{1}"
                        [(ngModel)]="SR_modalData.v_escala.h_fin" #escala_h_fin="ngModel" required></ion-input>
          </ion-item>
        </div>
      </ion-content>
      <ion-footer *ngIf="colaborador_id === 1050">
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round"
                      color="danger" (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cancelar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round"
                      color="primary" (click)="SR_modals(100,null);" [disabled]="btn_cancelAction || !escalas_guardarForm.valid">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->


<!-- ***** HOSPEDAJE ***** -->

<!-- DETALLES: COTIZACIÓN VUELOS | HOSPEDAJE | AUTOS  -->
<ion-modal #SR_ModalDetalles [isOpen]="SR_modalDetalles" width="auto">
  <ng-template>
    <ion-header translucent="true">
      <ion-toolbar>
        <ion-title>Detalles</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="SR_closeModal();">
            <ion-icon slot="icon-only" name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">

      <div *ngIf="SR_modalDetalles_data.tipo_solicitud === 1">
        <ion-item>
          <ion-label position="stacked"><h3><b>Origen:</b></h3></ion-label>
          <p>
            <span class="class-p_primary">{{SR_modalDetalles_data.origen}} {{SR_modalDetalles_data.hora_salida}}</span> <br>
            <small>{{SR_modalDetalles_data.origen_estado}}, {{SR_modalDetalles_data.origen_pais}}</small> <br>
            <small>{{SR_modalDetalles_data.fecha_salida_n}}</small>
          </p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Destino:</b></h3></ion-label>
          <p>
            <span class="class-p_primary">{{SR_modalDetalles_data.destino}} {{SR_modalDetalles_data.hora_llegada}}</span> <br>
            <small>{{SR_modalDetalles_data.destino_estado}}, {{SR_modalDetalles_data.destino_pais}}</small> <br>
            <small>{{SR_modalDetalles_data.fecha_llegada_n}}</small>
          </p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Precio:</b></h3></ion-label>
          <p>
            <span class="class-p_primary">{{SR_modalDetalles_data.precio_n}} <small>{{SR_modalDetalles_data.moneda}}</small></span> <br>
            <span *ngIf="colaborador_id === 1050">
              <small>{{SR_modalDetalles_data.aerolinea}}</small> <br>
            </span>
            <small>{{SR_modalDetalles_data.escalas}} escala(s)</small>
          </p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Comentario:</b></h3></ion-label>
          <textarea class="class-textarea" readonly>{{SR_modalDetalles_data.comentario}}</textarea>
        </ion-item>
      </div>

      <div *ngIf="SR_modalDetalles_data.tipo_solicitud === 2">
        <ion-item>
          <ion-label position="stacked"><h3><b>Hotel</b></h3></ion-label>
          <p>
            <span class="class-p_primary">{{SR_modalDetalles_data.hotel}}</span> <br>
            <small>{{SR_modalDetalles_data.h_tipo}}</small> <br>
            <small>{{SR_modalDetalles_data.origen}}</small>
          </p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Entrada</b></h3></ion-label>
          <p>{{SR_modalDetalles_data.fecha_salida_n}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
          <p>{{SR_modalDetalles_data.fecha_llegada_n}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Precio</b></h3></ion-label>
          <p class="class-p_primary">{{SR_modalDetalles_data.precio_n}} {{SR_modalDetalles_data.moneda}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Comentario:</b></h3></ion-label>
          <textarea class="class-textarea" readonly>{{SR_modalDetalles_data.comentario}}</textarea>
        </ion-item>
      </div>

      <div *ngIf="SR_modalDetalles_data.tipo_solicitud === 3">
        <ion-item>
          <ion-label position="stacked"><h3><b>Arrendadora</b></h3></ion-label>
          <p class="class-p_primary">{{SR_modalDetalles_data.arrendadora}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Entrada</b></h3></ion-label>
          <p>{{SR_modalDetalles_data.fecha_salida_n}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
          <p>{{SR_modalDetalles_data.fecha_llegada_n}}</p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Precio</b></h3></ion-label>
          <p class="class-p_primary">{{SR_modalDetalles_data.precio_n}} <small>{{SR_modalDetalles_data.moneda}}</small></p>
        </ion-item>
        <ion-item>
          <ion-label position="stacked"><h3><b>Comentario:</b></h3></ion-label>
          <textarea class="class-textarea" readonly>{{SR_modalDetalles_data.comentario}}</textarea>
        </ion-item>
      </div>

    </ion-content>
  </ng-template>
</ion-modal> <!-- END -->

<!-- BORRADOR: TERMINAR -->
<ion-modal #SR_Modal_201 [isOpen]="SR_modalBool.m_201" width="auto">
  <form #m201_Form="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Describe</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <div>
          <ion-item>
            <ion-label position="stacked"><h3><b>Plan de trabajo</b></h3></ion-label>
          </ion-item>
          <ion-item>
            <textarea id="m_201_planTrabajo" name="m_201_planTrabajo" class="textarea" rows="5"
                          [(ngModel)]="SR_modalData.m_201.planTrabajo" #m_201_planTrabajo="ngModel" required></textarea>
          </ion-item>
        </div>
        <div *ngIf="colaborador_id === 1050 && SR_solicitud.solicitante.urgencia === 1">
          <p color="danger">Por favor escribe en el plan de trabajo el motivo por el que estás creando esta solicitud como 'Urgente'.</p>
        </div>
        <div *ngIf="colaborador_id !== 1050 || SR_solicitud.solicitante.urgencia !== 1">
          <div>
            <ion-item>
              <ion-label position="stacked"><h3><b>Solicitud tardía</b></h3></ion-label>
              <p><small>(En caso de presentar la solicitud sin considerar los días de anticipación, especificar el motivo)</small></p>
            </ion-item>

            <ion-item>
              <textarea id="m_201_soliTardia" name="m_201_soliTardia" class="textarea" rows="5"
                            [(ngModel)]="SR_modalData.m_201.soliTardia" #m_201_soliTardia="ngModel"></textarea>
            </ion-item>
          </div>

          <p color="success" *ngIf="SR_solicitud.solicitante.internacional_inge === 1">
            La solicitud se enviará a tu líder inmediato para su autorización y posteriormente a Arturo Freydig con el mismo fin por tratarse de hospedaje o vuelo internacional.
          </p>
          <p color="success" *ngIf="SR_solicitud.solicitante.internacional_inge !== 1">
            La solicitud se enviará a tu líder inmediato para su autorización.
          </p>
        </div>
      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round"
                      color="danger" (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cancelar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round"
                      color="primary" (click)="SR_modals(201, null);" [disabled]="!m201_Form.valid || btn_cancelAction">
            <ion-icon slot="start" name="paper-plane-outline"></ion-icon>
            Enviar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->

<!-- BORRADOR: AGREGAR SERVICIO -->
<ion-modal #SR_Modal_202 [isOpen]="SR_modalBool.m_202" width="auto">
  <form #m202_Form="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Agregar un servicio</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item>
          <ion-label position="stacked"><h3><b>Tipo de solicitud</b></h3></ion-label>
          <ion-select id="m_202_VtipoSolicitud" name="m_202_VtipoSolicitud" interface="popover"  placeholder="Seleccionar..."
                      [(ngModel)]="SR_modalData.m_202.tipoSolicitud" #m_202_VtipoSolicitud="ngModel"
                      (ionChange)="SR_m_202_changeSolicitud();" required>
            <ion-select-option value=1 *ngIf="SR_solicitud.vuelos.v_option === 1">Vuelo</ion-select-option>
            <ion-select-option value=2 *ngIf="SR_solicitud.hospedaje.h_option === 1">Hospedaje</ion-select-option>
            <ion-select-option value=3 *ngIf="SR_solicitud.auto.a_option === 1">Renta de auto</ion-select-option>
          </ion-select>
        </ion-item>

        <br><br>

        <!-- Vuelo -->
        <div *ngIf="SR_modalData.m_202.tipoSolicitud === '1'">

          <ion-item>
            <ion-label position="stacked"><h3><b>Tipo de vuelo</b></h3></ion-label>
            <ion-select id="m_202_VtipoVuelo" name="m_202_VtipoVuelo" interface="popover"  placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.v.tipo" #m_202_VtipoVuelo="ngModel" required>
              <ion-select-option value=1>Sencillo</ion-select-option>
              <ion-select-option value=2>Redondo</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>¿Es un viaje internacional?</b></h3></ion-label>
            <ion-select id="m_202_VtipoInternacional" name="m_202_VtipoInternacional" interface="popover"  placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.v.internacional" #m_202_VtipoInternacional="ngModel" required>
              <ion-select-option value=0>No</ion-select-option>
              <ion-select-option value=1>Si</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Origen</b></h3></ion-label>
            <ion-select id="m_202_Vorigen" name="m_202_Vorigen" interface="popover"  placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.v.origen" #m_202_Vorigen="ngModel" required>
              <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Destino</b></h3></ion-label>
            <ion-select id="m_202_Vdestino" name="m_202_Vdestino" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.v.destino" #m_202_Vdestino="ngModel" required>
              <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id">{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
            <ion-input id="m_202_VfSalida" name="m_202_VfSalida" type="date" [max]="SR_modalData.m_202.v.f_regreso"
                        [(ngModel)]="SR_modalData.m_202.v.f_salida" #m_202_VfSalida="ngModel" required></ion-input>
          </ion-item>

          <div>
            <ion-item>
              <ion-label position="stacked"><h3><b>Hora salida (preferente)</b></h3></ion-label>
              <ion-select id="m_202_VhSalida_desc" name="m_202_VhSalida_desc" interface="popover" placeholder="Seleccionar..."
                          [(ngModel)]="SR_modalData.m_202.v.h_salida_desc" #m_202_VhSalida_desc="ngModel" required>
                <ion-select-option value="Alrededor de las" selected>Alrededor de las </ion-select-option>
                <ion-select-option value="Antes de las">Antes de las </ion-select-option>
                <ion-select-option value="Después de las">Después de las </ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-select id="m_202_VhSalida_num" name="m_202_VhSalida_num" interface="popover" placeholder="Seleccionar..."
                          [(ngModel)]="SR_modalData.m_202.v.h_salida_num" #m_202_VhSalida_num="ngModel" required>
                <ion-select-option value="5:00 A.M.">5:00 A.M.</ion-select-option>
                <ion-select-option value="6:00 A.M.">6:00 A.M.</ion-select-option>
                <ion-select-option value="7:00 A.M." selected>7:00 A.M.</ion-select-option>
                <ion-select-option value="8:00 A.M.">8:00 A.M.</ion-select-option>
                <ion-select-option value="9:00 A.M.">9:00 A.M.</ion-select-option>
                <ion-select-option value="10:00 A.M.">10:00 A.M.</ion-select-option>
                <ion-select-option value="11:00 A.M.">11:00 A.M.</ion-select-option>
                <ion-select-option value="12:00 P.M.">12:00 P.M.</ion-select-option>
                <ion-select-option value="1:00 P.M.">1:00 P.M.</ion-select-option>
                <ion-select-option value="2:00 P.M.">2:00 P.M.</ion-select-option>
                <ion-select-option value="3:00 P.M.">3:00 P.M.</ion-select-option>
                <ion-select-option value="4:00 P.M.">4:00 P.M.</ion-select-option>
                <ion-select-option value="5:00 P.M.">5:00 P.M.</ion-select-option>
                <ion-select-option value="6:00 P.M.">6:00 P.M.</ion-select-option>
                <ion-select-option value="7:00 P.M.">7:00 P.M.</ion-select-option>
                <ion-select-option value="8:00 P.M.">8:00 P.M.</ion-select-option>
                <ion-select-option value="9:00 P.M.">9:00 P.M.</ion-select-option>
                <ion-select-option value="10:00 P.M.">10:00 P.M.</ion-select-option>
                <ion-select-option value="11:00 P.M.">11:00 P.M.</ion-select-option>
              </ion-select>
            </ion-item>
          </div>

          <ion-item>
            <ion-label position="stacked"><h3><b>Regreso</b></h3></ion-label>
            <ion-input id="m_202_VfRegreso" name="m_202_VfRegreso" type="date" [min]="SR_modalData.m_202.v.f_salida"
                        [(ngModel)]="SR_modalData.m_202.v.f_regreso" #m_202_VfRegreso="ngModel" [disabled]="this.SR_modalData.m_202.v.tipo === 1" required></ion-input>
          </ion-item>

          <div>
            <ion-item>
              <ion-label position="stacked"><h3><b>Hora de regreso (preferente)</b></h3></ion-label>
              <ion-select id="m_202_Vregreso_desc" name="m_202_Vregreso_desc" interface="popover" placeholder="Seleccionar..."
                          [(ngModel)]="SR_modalData.m_202.v.h_regreso_desc" #m_202_Vregreso_desc="ngModel" [disabled]="this.SR_modalData.m_202.v.tipo === 1" required>
                <ion-select-option value="Alrededor de las" selected>Alrededor de las </ion-select-option>
                <ion-select-option value="Antes de las">Antes de las </ion-select-option>
                <ion-select-option value="Después de las">Después de las </ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-select id="m_202_Vregreso_num" name="m_202_Vregreso_num" interface="popover" placeholder="Seleccionar..."
                          [(ngModel)]="SR_modalData.m_202.v.h_regreso_num" #m_202_Vregreso_num="ngModel" [disabled]="this.SR_modalData.m_202.v.tipo === 1" required>
                <ion-select-option value="5:00 A.M.">5:00 A.M.</ion-select-option>
                <ion-select-option value="6:00 A.M.">6:00 A.M.</ion-select-option>
                <ion-select-option value="7:00 A.M." selected>7:00 A.M.</ion-select-option>
                <ion-select-option value="8:00 A.M.">8:00 A.M.</ion-select-option>
                <ion-select-option value="9:00 A.M.">9:00 A.M.</ion-select-option>
                <ion-select-option value="10:00 A.M.">10:00 A.M.</ion-select-option>
                <ion-select-option value="11:00 A.M.">11:00 A.M.</ion-select-option>
                <ion-select-option value="12:00 P.M.">12:00 P.M.</ion-select-option>
                <ion-select-option value="1:00 P.M.">1:00 P.M.</ion-select-option>
                <ion-select-option value="2:00 P.M.">2:00 P.M.</ion-select-option>
                <ion-select-option value="3:00 P.M.">3:00 P.M.</ion-select-option>
                <ion-select-option value="4:00 P.M.">4:00 P.M.</ion-select-option>
                <ion-select-option value="5:00 P.M.">5:00 P.M.</ion-select-option>
                <ion-select-option value="6:00 P.M.">6:00 P.M.</ion-select-option>
                <ion-select-option value="7:00 P.M.">7:00 P.M.</ion-select-option>
                <ion-select-option value="8:00 P.M.">8:00 P.M.</ion-select-option>
                <ion-select-option value="9:00 P.M.">9:00 P.M.</ion-select-option>
                <ion-select-option value="10:00 P.M.">10:00 P.M.</ion-select-option>
                <ion-select-option value="11:00 P.M.">11:00 P.M.</ion-select-option>
              </ion-select>
            </ion-item>
          </div>
        </div>

        <!-- Hospedaje -->
        <div *ngIf="SR_modalData.m_202.tipoSolicitud === '2'">

          <ion-item>
            <ion-label position="stacked"><h3><b>Tipo de hospedaje</b></h3></ion-label>
            <ion-select id="m_202_HtipoHospedaje" name="m_202_HtipoHospedaje" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.h.tipo" #m_202_HtipoHospedaje="ngModel" required>
              <ion-select-option value="1" selected>Individual</ion-select-option>
              <ion-select-option value="2">Doble</ion-select-option>
              <ion-select-option value="3">Triple</ion-select-option>
              <ion-select-option value="4">Cuádruple</ion-select-option>
              <ion-select-option value="5">Casa ECN</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Ciudad de hospedaje</b></h3></ion-label>
            <ion-select id="m_202_HciudadHospedaje" name="m_202_HciudadHospedaje" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.h.ciudad" #m_202_HciudadHospedaje="ngModel" required>
              <ion-select-option *ngFor="let data of SR_estructuras.selectLugar; let i = index;" [value]="data.id" selected>{{data.nombre}}, {{data.padre}}, {{data.padre2}}</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>¿Es un hospedaje internacional?</b></h3></ion-label>
            <ion-select id="m_202_HtipoInternacional" name="m_202_HtipoInternacional" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.h.internacional" #m_202_HtipoInternacional="ngModel" required>
              <ion-select-option value="0" selected>No</ion-select-option>
              <ion-select-option value="1">Si</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Entrada</b></h3></ion-label>
            <ion-input id="m_202_Hentrada" name="m_202_Hentrada" type="date" [max]="SR_modalData.m_202.h.salida"
                      [(ngModel)]="SR_modalData.m_202.h.entrada" #m_202_Hentrada="ngModel" required></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
            <ion-input id="m_202_Hsalida" name="m_202_Hsalida" type="date" [min]="SR_modalData.m_202.h.entrada"
                      [(ngModel)]="SR_modalData.m_202.h.salida" #m_202_Hsalida="ngModel" required></ion-input>
          </ion-item>

        </div>

        <!-- Renta de auto -->
        <div *ngIf="SR_modalData.m_202.tipoSolicitud === '3'">

          <ion-item>
            <ion-label position="stacked"><h3><b>Tipo de auto</b></h3></ion-label>
            <ion-select id="m_202_AtipoAuto" name="m_202_AtipoAuto" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.a.tipo" #m_202_AtipoAuto="ngModel" required>
              <ion-select-option value="1">Camioneta</ion-select-option>
              <ion-select-option value="2">Compacto</ion-select-option>
              <ion-select-option value="3">Pick up 4x4</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Lugar de entrega</b></h3></ion-label>
            <ion-select id="m_202_AlugarEntrega" name="m_202_AlugarEntrega" interface="popover" placeholder="Seleccionar..."
                        [(ngModel)]="SR_modalData.m_202.a.lugar" #m_202_AlugarEntrega="ngModel" required>
              <ion-select-option value="1">Aeropuerto</ion-select-option>
              <ion-select-option value="2">Agencia de renta</ion-select-option>
              <ion-select-option value="3">Central autobús</ion-select-option>
              <ion-select-option value="4">Hotel</ion-select-option>
              <ion-select-option value="5">Oficina</ion-select-option>
            </ion-select>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Inicio</b></h3></ion-label>
            <ion-input id="m_202_AinicioEntrada" name="m_202_AinicioEntrada" type="date" [max]="SR_modalData.m_202.a.f_salida"
                        [(ngModel)]="SR_modalData.m_202.a.f_entrada" #m_202_AinicioEntrada="ngModel" required></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="stacked"><h3><b>Fin</b></h3></ion-label>
            <ion-input id="m_202_AfinSalida" name="m_202_AfinSalida" type="date" [min]="SR_modalData.m_202.a.f_entrada"
                        [(ngModel)]="SR_modalData.m_202.a.f_salida" #m_202_AfinSalida="ngModel" required></ion-input>
          </ion-item>
        </div>

      </ion-content>
      <ion-footer *ngIf="SR_modalData.m_202.tipoSolicitud ? SR_modalData.m_202.tipoSolicitud !== '' : false">
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round"
                      color="danger" (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cancelar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round"
                      color="primary" (click)="SR_modals(202, null);" [disabled]="!m202_Form.valid || btn_cancelAction">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Agregar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->

<!-- ENVIADO AL LIDER: ATENDER SOLICITUD -->
<ion-modal #SR_Modal_203 [isOpen]="SR_modalBool.m_203" width="auto">
  <form #m203_Form="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Atiende</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content class="ion-padding">

        <ion-label class="ion-padding class-text_gray">
          <small>Al enviar tu información afirmas haber leído la solicitud completa.</small>
        </ion-label>

        <br><br>

        <ion-item>
          <ion-label position="stacked"><h3><b>Nombre</b></h3></ion-label>
          <p>{{SR_solicitud.solicitante.autoriza}}</p>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Correo</b></h3></ion-label>
          <p>{{SR_solicitud.solicitante.lider_email}}</p>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Teléfono celular</b> <small>(10 dígitos sin espacios)</small></h3></ion-label>
          <ion-input id="m_203_celularLider" name="m_203_celularLider" type="number"
                      pattern="[0-9]{10}" placeholder="(10 dígitos sin espacios)"
                      [(ngModel)]="SR_modalData.m_203.celularLider" #m_203_celularLider="ngModel" required></ion-input>
          <ion-note slot="error">Nota: 1234567890</ion-note>
        </ion-item>

        <ion-item>
          <ion-label position="stacked"><h3><b>Comentario</b></h3></ion-label>
          <textarea id="m_203_comentario" name="m_203_comentario" class="textarea" rows="7"
                        placeholder="Comenta porqué la apruebas o hazle una observación al colaborador para que corrija la solicitud si la rechazas..."
                        [(ngModel)]="SR_modalData.m_203.comentario" #m_203_comentario="ngModel" required></textarea>
        </ion-item>

        <ion-item>
          <p *ngIf="SR_solicitud.solicitante.internacional_inge === 1" color="success">
            La solicitud se enviará para aprobación a Arturo Freydig por tratarse de hospedaje o vuelo internacional y posteriormente al asesor de servicios y reservaciones para su cotización.
          </p>
          <p *ngIf="SR_solicitud.solicitante.internacional_inge !== 1" color="success">
            La solicitud se enviará al asesor de servicios y reservaciones para su cotización.
          </p>
        </ion-item>

      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round"
                      color="danger" (click)="SR_modals(203, {btn: 0});" [disabled]="!m203_Form.valid || btn_cancelAction">
            <ion-icon slot="start" name="pencil-outline"></ion-icon>
            Solicitar cambios
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round"
                      color="primary" (click)="SR_modals(203, {btn: 1});" [disabled]="!m203_Form.valid || btn_cancelAction">
            <ion-icon slot="start" name="checkmark-outline"></ion-icon>
            Aprobar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->

<!-- DEVUELTA AL COLABORADOR PARA HACER CAMBIOS: TERMINAR -->
<ion-modal #SR_Modal_204 [isOpen]="SR_modalBool.m_204" width="auto">
  <form #m204_Form="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Terminar</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-item>
          <ion-label position="stacked"><h3><b>Comentario para el líder</b></h3></ion-label>
          <textarea id="m_204_comentarioLider" name="m_204_comentarioLider" rows="5"
                        [(ngModel)]="SR_modalData.m_204.comentarioLider" #m_204_comentarioLider="ngModel" required></textarea>
        </ion-item>

        <div *ngIf="SR_solicitud.errores.solicitud_errordias >= 1">
          <div class="ion-padding class-text_gray"><small>(En caso de presentar la solicitud sin considerar los días de anticipación, especificar el motivo)</small></div>
          <ion-item>
            <ion-label position="stacked"><h3><b>Solicitud tardía</b></h3></ion-label>
            <textarea id="m_204_solicitudTardia" name="m_204_solicitudTardia" class="textarea" rows="5" style="overflow: auto;"
                          [(ngModel)]="SR_modalData.m_204.solicitudTardia" #m_204_solicitudTardia="ngModel"></textarea>
          </ion-item>
        </div>

        <div>
          <p color="success" *ngIf="SR_solicitud.solicitante.internacional_inge === 1">
            La solicitud se enviará a tu líder inmediato para su autorización y posteriormente a Arturo Freydig con el mismo fin por tratarse de hospedaje o vuelo internacional
          </p>
          <p color="success" *ngIf="SR_solicitud.solicitante.internacional_inge !== 1">
            La solicitud se enviará a tu líder inmediato para su autorización.
          </p>
        </div>
      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round"
                      color="danger" (click)="SR_closeModal();">
            <ion-icon slot="start" name="close-outline"></ion-icon>
            Cancelar
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round"
                      color="primary" (click)="SR_modals(204, null);" [disabled]="!m204_Form.valid || btn_cancelAction">
            <ion-icon slot="start" name="paper-plane-outline"></ion-icon>
            Enviar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->

<!-- PARA QUE LO APRUEBE CONTRALORÍA EDO: 5; Y INGENIERO EDO: 18.: ATENDER -->
<ion-modal #SR_Modal_205 [isOpen]="SR_modalBool.m_205" width="auto">
  <form #m205_Form="ngForm">
    <ng-template>
      <ion-header translucent="true">
        <ion-toolbar>
          <ion-title>Atender</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="SR_closeModal();">
              <ion-icon slot="icon-only" name="close"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">

        <div class="ion-padding class-text_gray"><small>Al enviar tu información afirmas haber leido la sulicitud completa.</small></div>

        <ion-item>
          <ion-label position="stacked"><h3><b>Comentario</b></h3></ion-label>
          <textarea id="m_205_comentarioContralor" name="m_205_comentarioContralor" rows="5" placeholder="Comenta porqué la apruebas o hazle una observación al colaborador para que corrija la solicitud si la rechazas..."
                        [(ngModel)]="SR_modalData.m_205.comentarioContralor" #m_205_comentarioContralor="ngModel" required></textarea>
        </ion-item>

      </ion-content>
      <ion-footer>
        <ion-toolbar>
          <ion-button expand="block" fill="solid" shape="round"
                      color="danger" (click)="SR_modals(205, {btn: 0});" [disabled]="!m205_Form.valid || btn_cancelAction">
            <ion-icon slot="start" name="pencil-outline"></ion-icon>
            Solicitar cambios
          </ion-button>
          <ion-button expand="block" fill="solid" shape="round"
                      color="primary" (click)="SR_modals(205, {btn: 1});" [disabled]="!m205_Form.valid || btn_cancelAction">
            <ion-icon slot="start" name="checkmark-outline"></ion-icon>
            Aprobar
          </ion-button>
        </ion-toolbar>
      </ion-footer>
    </ng-template>
  </form>
</ion-modal> <!-- END -->

<!-- SOLICNV: AUTORIZAR CAMBIO DE NOMBRE DE LA SOLICITUD - LIDER -->
<!-- MODALES 206 y 207 -->
<ion-modal #SR_Modal_206 [isOpen]="SR_modalBool.m_206 || SR_modalBool.m_207" width="auto">
  <ng-template>
    <ion-header translucent="true">
      <ion-toolbar>
        <ion-title>Cambio de nombre</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="SR_closeModal();">
            <ion-icon slot="icon-only" name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">

      <ion-item>
        <ion-label position="stacked"><h3><b>Cambiar de:</b></h3></ion-label>
        <p>{{SR_solicitud.solicitante.nombre_colab_solicitante}}</p>
      </ion-item>

      <ion-item>
        <ion-label position="stacked"><h3><b>A:</b></h3></ion-label>
        <p>{{SR_solicitud.solicitante.solicitante_nuevo_nombre}}</p>
      </ion-item>

      <ion-item>
        <ion-label position="stacked"><h3><b>Razón:</b></h3></ion-label>
        <p>{{SR_solicitud.solicitante.camn_nom}}</p>
      </ion-item>

      <div class="ion-padding class-text_gray"><small>El cambio aplicará para todos los servicios y puede generar un costo extra.</small></div>

    </ion-content>
    <ion-footer>
      <ion-toolbar *ngIf="SR_modalBool.m_206">
        <ion-button expand="block" fill="solid" shape="round" [disabled]="btn_cancelAction"
                    color="danger" (click)="SR_modals(206, {btn: 0});">
          <ion-icon slot="start" name="close-outline"></ion-icon>
          Rechazar
        </ion-button>
        <ion-button expand="block" fill="solid" shape="round" [disabled]="btn_cancelAction"
                    color="primary" (click)="SR_modals(206, {btn: 1});">
          <ion-icon slot="start" name="checkmark-outline"></ion-icon>
          Aprobar
        </ion-button>
      </ion-toolbar>
      <ion-toolbar *ngIf="SR_modalBool.m_207">
        <ion-button expand="block" fill="solid" shape="round" [disabled]="btn_cancelAction"
                    color="danger" (click)="SR_modals(207, {btn: 0});">
          <ion-icon slot="start" name="close-outline"></ion-icon>
          Rechazar
        </ion-button>
        <ion-button expand="block" fill="solid" shape="round" [disabled]="btn_cancelAction"
                    color="primary" (click)="SR_modals(207, {btn: 1});">
          <ion-icon slot="start" name="checkmark-outline"></ion-icon>
          Aprobar
        </ion-button>
      </ion-toolbar>
    </ion-footer>
  </ng-template>
</ion-modal> <!-- END -->

<!-- VUELO: AUTORIZAR REAGENDAR VUELO -->
<ion-modal #SR_Modal_208 [isOpen]="SR_modalBool.m_208" width="auto">
  <ng-template>
    <ion-header translucent="true">
      <ion-toolbar>
        <ion-title>Reagendar vuelo</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="SR_closeModal();">
            <ion-icon slot="icon-only" name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-item>
        <ion-label position="stacked"><h3><b>¿Por qué necesita reagendarlo?</b></h3></ion-label>
        <textarea rows="5" [(ngModel)]="SR_reagendarVuelo.Vjustif" [readOnly]="true" style="cursor: context-menu;"></textarea>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Tipo de vuelo</b></h3></ion-label>
        <p>{{SR_reagendarVuelo.Vtipo}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>¿Es un viaje internacional?</b></h3></ion-label>
        <p>{{SR_reagendarVuelo.Vinternacional}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Origen</b></h3></ion-label>
        <p>{{SR_reagendarVuelo.Vorigen}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Destino</b></h3></ion-label>
        <p>{{SR_reagendarVuelo.Vdestino}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
        <p>{{SR_reagendarVuelo.Vinicio_entrada_pais}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Regreso</b></h3></ion-label>
        <p>{{SR_reagendarVuelo.Vfin_salida_pais}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Hora salida (preferente)</b></h3></ion-label>
        <p>{{SR_reagendarVuelo.Vinicio}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Hora regreso (preferente)</b></h3></ion-label>
        <p>{{SR_reagendarVuelo.Vfin}}</p>
      </ion-item>

    </ion-content>
    <ion-footer>
      <ion-toolbar>
        <ion-button expand="block" fill="solid" shape="round"
                    color="danger" (click)="SR_modals(208, {btn: 0});" [disabled]="btn_cancelAction">
          <ion-icon slot="start" name="close-outline"></ion-icon>
          Rechazar
        </ion-button>
        <ion-button expand="block" fill="solid" shape="round"
                    color="primary" (click)="SR_modals(208, {btn: 1});" [disabled]="btn_cancelAction">
          <ion-icon slot="start" name="checkmark-outline"></ion-icon>
          Autorizar cambios
        </ion-button>
      </ion-toolbar>
    </ion-footer>
  </ng-template>
</ion-modal> <!-- END -->

<!-- HOSPEDAJE: AUTORIZAR REAGENDAR HOSPEDAJE -->
<ion-modal #SR_Modal_209 [isOpen]="SR_modalBool.m_209" width="auto">
  <ng-template>
    <ion-header translucent="true">
      <ion-toolbar>
        <ion-title>Reagendar hospedaje</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="SR_closeModal();">
            <ion-icon slot="icon-only" name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-item>
        <ion-label position="stacked"><h3><b>¿Por qué necesita reagendarlo?</b></h3></ion-label>
        <textarea rows="5" [(ngModel)]="SR_reagendarHosp.Hjustif" [readOnly]="true" style="cursor: context-menu;"></textarea>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Tipo de hospedaje</b></h3></ion-label>
        <p>{{SR_reagendarHosp.Htipo}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Ciudad de hospedaje</b></h3></ion-label>
        <p>{{SR_reagendarHosp.Hciudad}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>¿Es un viaje internacional?</b></h3></ion-label>
        <p>{{SR_reagendarHosp.Hinternacional}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Entrada</b></h3></ion-label>
        <p>{{SR_reagendarHosp.Hinicio_entrada_pais}}</p>
      </ion-item>
      <ion-item>
        <ion-label position="stacked"><h3><b>Salida</b></h3></ion-label>
        <p>{{SR_reagendarHosp.Hfin_salida_pais}}</p>
      </ion-item>

      <div class="ion-padding class-text_gray"><small>El cambio puede generar un costo extra.</small></div>

    </ion-content>
    <ion-footer>
      <ion-toolbar>
        <ion-button expand="block" fill="solid" shape="round"
                    color="danger" (click)="SR_modals(209, {btn: 0});" [disabled]="btn_cancelAction">
          <ion-icon slot="start" name="close-outline"></ion-icon>
          Rechazar
        </ion-button>
        <ion-button expand="block" fill="solid" shape="round"
                    color="primary" (click)="SR_modals(209, {btn: 1});" [disabled]="btn_cancelAction">
          <ion-icon slot="start" name="checkmark-outline"></ion-icon>
          Autorizar cambios
        </ion-button>
      </ion-toolbar>
    </ion-footer>
  </ng-template>
</ion-modal> <!-- END -->
